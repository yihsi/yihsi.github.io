<h3 id="python3-入门"><center>Python3 入门</center></h3>
<h4 id="前言">前言</h4>
<p><strong>Python</strong> 是一种广泛使用的高级编程语言，属于通用型编程语言，由吉多·范罗苏姆创造，第一版发布于1991年。作为一种<a href="https://zh.wikipedia.org/wiki/%E7%9B%B4%E8%AD%AF%E8%AA%9E%E8%A8%80">解释型语言</a>，Python 的设计哲学强调代码的可读性和简洁的语法（如使用空格缩进划分代码块，而非使用大括号或者关键词）。相比于 C++ 或 Java，Python 可以用更少的代码量完成相似或相同的功能。</p>
<p>Python 拥有<a href="https://zh.wikipedia.org/wiki/%E9%A1%9E%E5%9E%8B%E7%B3%BB%E7%B5%B1">动态类型系统</a>和<a href="https://zh.wikipedia.org/wiki/%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6">垃圾回收</a>功能，能够自动管理内存使用，并且支持多种编程范式，包括面向对象、命令式、函数式和过程式编程。其本身拥有一个巨大而广泛的标准库。</p>
<p>Python 解释器本身几乎可以在所有的操作系统中运行。Python的正式解释器 <a href="https://zh.wikipedia.org/wiki/CPython">CPython</a> 是用 C 语言编写的，另外，也有运行于 Java 平台 的 Python 语言实现 <a href="http://www.jython.org/">Jython</a> 。</p>
<h4 id="应用范围">应用范围</h4>
<h5 id="web-程序">Web 程序</h5>
<p>通过 <a href="https://github.com/GrahamDumpleton/mod_wsgi">mod_wsgi</a> 模块，Apache 可以运行用 Python 编写的 Web 程序。Python 的 Web 框架，有 <a href="https://www.djangoproject.com/">Django</a>、<a href="https://trypyramid.com/">Pyramid</a>、<a href="http://www.turbogears.org/">TurboGears</a>、<a href="http://www.tornadoweb.org/en/stable/">Tornado</a>、<a href="http://web2py.com/">web2py</a>、<a href="http://www.zope.org/en/latest/">Zope</a>、<a href="http://flask.pocoo.org/">Flask</a> 等。以 <a href="http://flask.pocoo.org/">Flask</a> 为例，写一个最简单的 Web 应用 <code>hello.py</code>：</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="im">from</span> flask <span class="im">import</span> Flask</a>
<a class="sourceLine" id="cb1-2" data-line-number="2">app <span class="op">=</span> Flask(<span class="va">__name__</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="at">@app.route</span>(<span class="st">&quot;/&quot;</span>)</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">def</span> hello():</a>
<a class="sourceLine" id="cb1-6" data-line-number="6">   <span class="cf">return</span> <span class="st">&quot;Hello World!&quot;</span></a></code></pre></div>
<p>运行：</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb2-1" data-line-number="1">$ <span class="ex">pip</span> install Flask</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">$ <span class="va">FLASK_APP=</span>hello.py <span class="ex">flask</span> run</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"> <span class="ex">*</span> Running on http://localhost:5000/</a></code></pre></div>
<p>而且 Python 对于各种网络协议的支持很完善，因此也被用于编写服务器软件、网络爬虫。比如使用第三方库 <a href="https://twistedmatrix.com/trac/">Twisted</a> 编写高性能的服务器软件。另有 <a href="http://www.gevent.org/">gevent</a> 这个流行的第三方库，同样能够支持高性能高并发的网络开发。</p>
<p>示例，使用 <a href="http://docs.python-requests.org/en/master/">requests</a> 抓取 GitHub 网页：</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> requests</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> r <span class="op">=</span> requests.get(<span class="st">&#39;https://api.github.com/user&#39;</span>, auth<span class="op">=</span>(<span class="st">&#39;user&#39;</span>, <span class="st">&#39;pass&#39;</span>))</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> r.status_code</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"><span class="dv">200</span></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> r.headers[<span class="st">&#39;content-type&#39;</span>]</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">&#39;application/json; charset=utf8&#39;</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> r.encoding</a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">&#39;utf-8&#39;</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> r.text</a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">u&#39;{&quot;type&quot;:&quot;User&quot;...&#39;</span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> r.json()</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">{<span class="st">u&#39;private_gists&#39;</span>: <span class="dv">419</span>, <span class="st">u&#39;total_private_repos&#39;</span>: <span class="dv">77</span>, ...}</a></code></pre></div>
<h5 id="gui-开发">GUI 开发</h5>
<p>Python 本身包含的 Tkinter 库能够支持简单的 GUI 开发。也可以使用 <a href="https://www.wxpython.org/">wxPython</a> 或者 <a href="https://wiki.python.org/moin/PyQt">PyQt</a> 等 GUI 包来开发跨平台的桌面软件。通过 PyInstaller 还能将程序发布为独立的安装程序包。</p>
<h5 id="科学计算">科学计算</h5>
<p>借助 Python 的第三方库如 <a href="http://www.numpy.org/">NumPy</a>、<a href="https://www.scipy.org/">SciPy</a>、<a href="https://matplotlib.org/">Matplotlib</a> 等可以编写科学计算程序。</p>
<h5 id="游戏">游戏</h5>
<p>可以使用 Python 编写游戏的逻辑、服务器。比如 EVE Online 使用 Python 来处理游戏中繁多的逻辑。</p>
<h5 id="深度机器学习">深度（机器）学习</h5>
<p>目前 Python 依然是机器学习领域最火的语言，比如现在最火的机器学习框架 <a href="https://www.tensorflow.org/">TensorFlow</a> 就是用 Python 写的，百度开源的深度学习框架 <a href="http://www.paddlepaddle.org/">PaddlePaddle</a> 也是用 Python 写的。</p>
<h5 id="运维开发">运维开发</h5>
<p>比如运维脚本的编写，运维工具的开发。脚本示例 <code>prog.py</code>：</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="im">import</span> argparse</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">parser <span class="op">=</span> argparse.ArgumentParser()</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">parser.add_argument(<span class="st">&quot;square&quot;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">int</span>,</a>
<a class="sourceLine" id="cb4-4" data-line-number="4">                    <span class="bu">help</span><span class="op">=</span><span class="st">&quot;display a square of a given number&quot;</span>)</a>
<a class="sourceLine" id="cb4-5" data-line-number="5">parser.add_argument(<span class="st">&quot;-v&quot;</span>, <span class="st">&quot;--verbosity&quot;</span>, <span class="bu">type</span><span class="op">=</span><span class="bu">int</span>, choices<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>],</a>
<a class="sourceLine" id="cb4-6" data-line-number="6">                    <span class="bu">help</span><span class="op">=</span><span class="st">&quot;increase output verbosity&quot;</span>)</a>
<a class="sourceLine" id="cb4-7" data-line-number="7">args <span class="op">=</span> parser.parse_args()</a>
<a class="sourceLine" id="cb4-8" data-line-number="8">answer <span class="op">=</span> args.square<span class="op">**</span><span class="dv">2</span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="cf">if</span> args.verbosity <span class="op">==</span> <span class="dv">2</span>:</a>
<a class="sourceLine" id="cb4-10" data-line-number="10">    <span class="bu">print</span>(<span class="st">&quot;the square of </span><span class="sc">{}</span><span class="st"> equals </span><span class="sc">{}</span><span class="st">&quot;</span>.<span class="bu">format</span>(args.square, answer))</a>
<a class="sourceLine" id="cb4-11" data-line-number="11"><span class="cf">elif</span> args.verbosity <span class="op">==</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb4-12" data-line-number="12">    <span class="bu">print</span>(<span class="st">&quot;</span><span class="sc">{}</span><span class="st">^2 == </span><span class="sc">{}</span><span class="st">&quot;</span>.<span class="bu">format</span>(args.square, answer))</a>
<a class="sourceLine" id="cb4-13" data-line-number="13"><span class="cf">else</span>:</a>
<a class="sourceLine" id="cb4-14" data-line-number="14">    <span class="bu">print</span>(answer)</a></code></pre></div>
<p>输出：</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" data-line-number="1">$ <span class="ex">python3</span> prog.py 4 -v 3</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="ex">usage</span>: prog.py [-h] [-v <span class="dt">{0,1,2}</span>] square</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="ex">prog.py</span>: error: argument -v/--verbosity: invalid choice: 3 (choose from 0, 1, 2)</a>
<a class="sourceLine" id="cb5-4" data-line-number="4">$ <span class="ex">python3</span> prog.py 4 -h</a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="ex">usage</span>: prog.py [-h] [-v <span class="dt">{0,1,2}</span>] square</a>
<a class="sourceLine" id="cb5-6" data-line-number="6"></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="ex">positional</span> arguments:</a>
<a class="sourceLine" id="cb5-8" data-line-number="8">  <span class="ex">square</span>                display a square of a given number</a>
<a class="sourceLine" id="cb5-9" data-line-number="9"></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="ex">optional</span> arguments:</a>
<a class="sourceLine" id="cb5-11" data-line-number="11">  <span class="ex">-h</span>, --help            show this help message and exit</a>
<a class="sourceLine" id="cb5-12" data-line-number="12">  <span class="ex">-v</span> <span class="dt">{0,1,2}</span>, --verbosity <span class="dt">{0,1,2}</span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13">                        <span class="ex">increase</span> output verbosity</a>
<a class="sourceLine" id="cb5-14" data-line-number="14">$ <span class="ex">python3</span> prog.py 4</a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="ex">16</span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16">$ <span class="ex">python3</span> prog.py 4 -v 1</a>
<a class="sourceLine" id="cb5-17" data-line-number="17"><span class="ex">4</span>^2 == 16</a>
<a class="sourceLine" id="cb5-18" data-line-number="18">$ <span class="ex">python3</span> prog.py 4 -v 2</a>
<a class="sourceLine" id="cb5-19" data-line-number="19"><span class="ex">the</span> square of 4 equals 16</a></code></pre></div>
<p>YouTube、Google、Yahoo!、NASA 都在内部大量地使用Python。 Dropbox、豆瓣网、知乎、果壳网等都是用 Python 开发的。</p>
<h4 id="语法">语法</h4>
<h5 id="缩进">缩进</h5>
<p>Python 使用缩进而不是花括号或某种关键字表示语句块的开始和结束（<a href="https://zh.wikipedia.org/wiki/%E8%B6%8A%E4%BD%8D%E8%A7%84%E5%88%99">Off-side规则</a>），增加缩进表示语句块的开始，而减少缩进则表示语句块的结束。例如 <code>if</code> 语句：</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="cf">if</span> age <span class="op">&lt;</span> <span class="dv">18</span>:</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">    <span class="bu">print</span>(<span class="st">&quot;未成年&quot;</span>)</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="bu">print</span>(<span class="st">&quot;这句话在 if 语句的外面&quot;</span>)</a></code></pre></div>
<p>根据 <a href="https://www.python.org/dev/peps/pep-0008/">PEP 8</a> 的规定，必须使用<strong>4个空格</strong>来表示每级缩进。使用 Tab 字符和其它数目的空格虽然都可以编译通过，但不匹配编码规范。</p>
<h5 id="标识符">标识符</h5>
<ul>
<li>_单下划线开头：弱“内部使用”标识。对于 <code>from M import *</code> ，将不导入所有以下划线开头的对象，包括包、模块、成员。</li>
<li>单下划线结尾_：为了避免与 Python 关键字的命名冲突</li>
<li>__双下划线开头：模块内的成员，表示私有成员，外部无法直接调用</li>
<li><strong>双下划线开头双下划线结尾</strong>：指那些包含在用户无法控制的名字空间中的“魔术”对象或属性，如类成员的name 、doc、init、import、file 等。推荐永远不要将这样的命名方式应用于自己的变量或函数。</li>
</ul>
<h5 id="注释">注释</h5>
<p>Python3 中注释分两种，变量注释（<a href="https://www.python.org/dev/peps/pep-0526/">variable annotations</a>）和函数注释（<a href="https://www.python.org/dev/peps/pep-3107/">function annotations</a>）：</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="co"># 变量注释，其中，三引号 &quot;&quot;&quot;...&quot;&quot;&quot; 和 &#39;&#39;&#39;...&#39;&#39;&#39; 可以通过 __doc__ 获取</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> foo():</a>
<a class="sourceLine" id="cb7-3" data-line-number="3">...    <span class="st">&#39;&#39;&#39; hello &#39;&#39;&#39;</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">...    <span class="st">&quot;&quot;&quot; world &quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb7-5" data-line-number="5">...    <span class="co"># pass</span></a>
<a class="sourceLine" id="cb7-6" data-line-number="6">...    <span class="cf">pass</span></a>
<a class="sourceLine" id="cb7-7" data-line-number="7">...     </a>
<a class="sourceLine" id="cb7-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> foo.__doc__</a>
<a class="sourceLine" id="cb7-9" data-line-number="9"><span class="co">&#39; hello &#39;</span></a>
<a class="sourceLine" id="cb7-10" data-line-number="10"><span class="co">&#39; world &#39;</span></a></code></pre></div>
<p>函数注释语法如下，expression 可以是任何形式：</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">def</span> foo(a: expression, b: expression <span class="op">=</span> <span class="dv">5</span>):</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">    ...</a></code></pre></div>
<p>返回值：</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">def</span> <span class="bu">sum</span>() <span class="op">-&gt;</span> expression:</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">    ...</a></code></pre></div>
<p>示例：</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> foo(a: <span class="st">&#39;x&#39;</span>, b: <span class="dv">5</span> <span class="op">+</span> <span class="dv">6</span>, c: <span class="bu">list</span>) <span class="op">-&gt;</span> <span class="bu">max</span>(<span class="dv">2</span>, <span class="dv">9</span>):</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">...     <span class="cf">pass</span></a>
<a class="sourceLine" id="cb10-3" data-line-number="3">...</a>
<a class="sourceLine" id="cb10-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> foo.__annotations__ <span class="co"># 返回字典</span></a>
<a class="sourceLine" id="cb10-5" data-line-number="5">{<span class="st">&#39;c&#39;</span>: <span class="op">&lt;</span><span class="kw">class</span> <span class="st">&#39;list&#39;</span><span class="op">&gt;</span>, <span class="st">&#39;b&#39;</span>: <span class="dv">11</span>, <span class="st">&#39;a&#39;</span>: <span class="st">&#39;x&#39;</span>, <span class="st">&#39;return&#39;</span>: <span class="dv">9</span>}</a></code></pre></div>
<h5 id="运算符">运算符</h5>
<p>主要算术运算符、比较运算符、赋值运算符、位运算符与 C/C++/Java 类似，另外，Python 中还有整除运算符 <code>//</code> 和 幂运算符 <code>**</code> （Python2 中不等于运算符还有 <code>&lt;&gt;</code> ，Python3 中只有 <code>!=</code> ），相应地，也有幂赋值运算符 <code>**=</code> 和取整除赋值运算符 <code>//=</code> 。</p>
<p>示例：</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="dv">5</span> <span class="op">**</span> <span class="dv">2</span>  <span class="co"># 5 squared</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="dv">25</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="dv">4</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> <span class="dv">50</span> <span class="op">-</span> <span class="dv">5</span><span class="op">*</span><span class="dv">6</span></a>
<a class="sourceLine" id="cb11-6" data-line-number="6"><span class="dv">20</span></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> (<span class="dv">50</span> <span class="op">-</span> <span class="dv">5</span><span class="op">*</span><span class="dv">6</span>) <span class="op">/</span> <span class="dv">4</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8"><span class="fl">5.0</span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> <span class="dv">8</span> <span class="op">/</span> <span class="dv">5</span>  <span class="co"># division always returns a floating point number</span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="fl">1.6</span></a>
<a class="sourceLine" id="cb11-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> <span class="dv">17</span> <span class="op">/</span> <span class="dv">3</span>  <span class="co"># classic division returns a float</span></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="fl">5.666666666666667</span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14"><span class="op">&gt;&gt;&gt;</span> <span class="dv">17</span> <span class="op">//</span> <span class="dv">3</span>  <span class="co"># floor division discards the fractional part</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="dv">5</span></a>
<a class="sourceLine" id="cb11-16" data-line-number="16"><span class="op">&gt;&gt;&gt;</span> <span class="dv">17</span> <span class="op">%</span> <span class="dv">3</span>  <span class="co"># the % operator returns the remainder of the division</span></a>
<a class="sourceLine" id="cb11-17" data-line-number="17"><span class="dv">2</span></a>
<a class="sourceLine" id="cb11-18" data-line-number="18"><span class="op">&gt;&gt;&gt;</span> <span class="dv">5</span> <span class="op">*</span> <span class="dv">3</span> <span class="op">+</span> <span class="dv">2</span>  <span class="co"># result * divisor + remainder</span></a>
<a class="sourceLine" id="cb11-19" data-line-number="19"><span class="dv">17</span></a>
<a class="sourceLine" id="cb11-20" data-line-number="20"><span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb11-21" data-line-number="21"><span class="op">&gt;&gt;&gt;</span> a <span class="op">**=</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb11-22" data-line-number="22"><span class="op">&gt;&gt;&gt;</span> a</a>
<a class="sourceLine" id="cb11-23" data-line-number="23"><span class="dv">4</span></a>
<a class="sourceLine" id="cb11-24" data-line-number="24"><span class="op">&gt;&gt;&gt;</span> a <span class="op">//=</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb11-25" data-line-number="25"><span class="op">&gt;&gt;&gt;</span> a</a>
<a class="sourceLine" id="cb11-26" data-line-number="26"><span class="dv">2</span></a></code></pre></div>
<p>Python 还有一个算术运算符 <code>is</code> ，用来判断两个变量是否指向同一个对象，而 <code>==</code> 用来判断两个对象是否相等：</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> b <span class="op">=</span> a</a>
<a class="sourceLine" id="cb12-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> b <span class="kw">is</span> a</a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="va">True</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> b <span class="op">==</span> a</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"><span class="va">True</span></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> b <span class="op">=</span> a[:] <span class="co"># 返回 a 的浅复制</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> b <span class="kw">is</span> a</a>
<a class="sourceLine" id="cb12-9" data-line-number="9"><span class="va">False</span></a>
<a class="sourceLine" id="cb12-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> b <span class="op">==</span> a</a>
<a class="sourceLine" id="cb12-11" data-line-number="11"><span class="va">True</span></a></code></pre></div>
<p>因为 Python 缓存了较小的整型值（类似 Java），所以：</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="dv">1000</span> <span class="kw">is</span> <span class="dv">10</span><span class="op">**</span><span class="dv">3</span></a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="va">False</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="dv">1000</span> <span class="op">==</span> <span class="dv">10</span><span class="op">**</span><span class="dv">3</span></a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="va">True</span></a></code></pre></div>
<p>字符串字面量 ：</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;a&quot;</span> <span class="kw">is</span> <span class="st">&quot;a&quot;</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="va">True</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;aa&quot;</span> <span class="kw">is</span> <span class="st">&quot;a&quot;</span> <span class="op">*</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="va">True</span></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="st">&quot;a&quot;</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;aa&quot;</span> <span class="kw">is</span> x <span class="op">*</span> <span class="dv">2</span></a>
<a class="sourceLine" id="cb14-7" data-line-number="7"><span class="va">False</span></a>
<a class="sourceLine" id="cb14-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;aa&quot;</span> <span class="kw">is</span> <span class="bu">intern</span>(x<span class="op">*</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb14-9" data-line-number="9"><span class="va">True</span></a></code></pre></div>
<p>Python 中逻辑运算符是 <code>and</code> 、<code>or</code> 和 <code>not</code> ：</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> a <span class="kw">and</span> b</a>
<a class="sourceLine" id="cb15-2" data-line-number="2"><span class="dv">2</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> a <span class="kw">and</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="va">True</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> <span class="va">True</span> <span class="kw">and</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="va">False</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> <span class="kw">not</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="va">True</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> <span class="kw">not</span> a</a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="va">False</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> <span class="va">False</span> <span class="kw">or</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="va">True</span></a></code></pre></div>
<h5 id="语句和控制流">语句和控制流</h5>
<ul>
<li><p><code>if</code>语句，当条件成立时运行语句块。经常与<code>else</code>, <code>elif</code>（相当于<code>else if</code>）配合使用。</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">&quot;Please enter an integer: &quot;</span>))</a>
<a class="sourceLine" id="cb16-2" data-line-number="2">Please enter an integer: <span class="dv">42</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="cf">if</span> x <span class="op">&lt;</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb16-4" data-line-number="4">...     x <span class="op">=</span> <span class="dv">0</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5">...     <span class="bu">print</span>(<span class="st">&#39;Negative changed to zero&#39;</span>)</a>
<a class="sourceLine" id="cb16-6" data-line-number="6">... <span class="cf">elif</span> x <span class="op">==</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb16-7" data-line-number="7">...     <span class="bu">print</span>(<span class="st">&#39;Zero&#39;</span>)</a>
<a class="sourceLine" id="cb16-8" data-line-number="8">... <span class="cf">elif</span> x <span class="op">==</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb16-9" data-line-number="9">...     <span class="bu">print</span>(<span class="st">&#39;Single&#39;</span>)</a>
<a class="sourceLine" id="cb16-10" data-line-number="10">... <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb16-11" data-line-number="11">...     <span class="bu">print</span>(<span class="st">&#39;More&#39;</span>)</a>
<a class="sourceLine" id="cb16-12" data-line-number="12">...</a>
<a class="sourceLine" id="cb16-13" data-line-number="13">More</a></code></pre></div></li>
<li><p><code>for</code>语句，遍列列表、字符串、字典、集合等迭代器，依次处理迭代器中的每个元素。</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="co"># Measure some strings:</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2">... words <span class="op">=</span> [<span class="st">&#39;cat&#39;</span>, <span class="st">&#39;window&#39;</span>, <span class="st">&#39;defenestrate&#39;</span>]</a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> w <span class="kw">in</span> words:</a>
<a class="sourceLine" id="cb17-4" data-line-number="4">...     <span class="bu">print</span>(w, <span class="bu">len</span>(w))</a>
<a class="sourceLine" id="cb17-5" data-line-number="5">...</a>
<a class="sourceLine" id="cb17-6" data-line-number="6">cat <span class="dv">3</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7">window <span class="dv">6</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8">defenestrate <span class="dv">12</span></a></code></pre></div>
<p>如果你需要在遍历序列的同时修改它，建议首先创建一份副本。遍历序列的时候并没有隐式创建副本，通过片段符号（slice notation）可以很方便地创建副本：</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> w <span class="kw">in</span> words[:]:  <span class="co"># Loop over a slice copy of the entire list.</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2">...     <span class="cf">if</span> <span class="bu">len</span>(w) <span class="op">&gt;</span> <span class="dv">6</span>:</a>
<a class="sourceLine" id="cb18-3" data-line-number="3">...         words.insert(<span class="dv">0</span>, w)</a>
<a class="sourceLine" id="cb18-4" data-line-number="4">...</a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> words</a>
<a class="sourceLine" id="cb18-6" data-line-number="6">[<span class="st">&#39;defenestrate&#39;</span>, <span class="st">&#39;cat&#39;</span>, <span class="st">&#39;window&#39;</span>, <span class="st">&#39;defenestrate&#39;</span>]</a></code></pre></div></li>
<li><p><code>while</code>语句，当条件为真时，循环运行语句块。</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="co"># 斐波那契数列:</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">... a, b <span class="op">=</span> <span class="dv">0</span>, <span class="dv">1</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="cf">while</span> b <span class="op">&lt;</span> <span class="dv">10</span>:</a>
<a class="sourceLine" id="cb19-4" data-line-number="4">...     <span class="bu">print</span>(b)</a>
<a class="sourceLine" id="cb19-5" data-line-number="5">...     a, b <span class="op">=</span> b, a<span class="op">+</span>b</a>
<a class="sourceLine" id="cb19-6" data-line-number="6">...</a>
<a class="sourceLine" id="cb19-7" data-line-number="7"><span class="dv">1</span></a>
<a class="sourceLine" id="cb19-8" data-line-number="8"><span class="dv">1</span></a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="dv">2</span></a>
<a class="sourceLine" id="cb19-10" data-line-number="10"><span class="dv">3</span></a>
<a class="sourceLine" id="cb19-11" data-line-number="11"><span class="dv">5</span></a>
<a class="sourceLine" id="cb19-12" data-line-number="12"><span class="dv">8</span></a></code></pre></div></li>
<li><p><code>try</code>语句。与<code>except, finally, else</code>配合使用处理在程序运行中出现的异常情况。</p>
<p><code>else</code> 语句示例</p></li>
<li><div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="co"># 使用 else 语句优于在 try 语句中添加额外的代码</span></a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="co"># 因为这样能避免捕获到不被 try ... except 保护的异常</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3"><span class="cf">for</span> arg <span class="kw">in</span> sys.argv[<span class="dv">1</span>:]:</a>
<a class="sourceLine" id="cb20-4" data-line-number="4">    <span class="cf">try</span>:</a>
<a class="sourceLine" id="cb20-5" data-line-number="5">        f <span class="op">=</span> <span class="bu">open</span>(arg, <span class="st">&#39;r&#39;</span>)</a>
<a class="sourceLine" id="cb20-6" data-line-number="6">    <span class="cf">except</span> <span class="pp">OSError</span>:</a>
<a class="sourceLine" id="cb20-7" data-line-number="7">        <span class="bu">print</span>(<span class="st">&#39;cannot open&#39;</span>, arg)</a>
<a class="sourceLine" id="cb20-8" data-line-number="8">    <span class="cf">else</span>:</a>
<a class="sourceLine" id="cb20-9" data-line-number="9">        <span class="bu">print</span>(arg, <span class="st">&#39;has&#39;</span>, <span class="bu">len</span>(f.readlines()), <span class="st">&#39;lines&#39;</span>)</a>
<a class="sourceLine" id="cb20-10" data-line-number="10">        f.close()</a></code></pre></div>
<p><code>finally</code> 语句示例：</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="cf">try</span>:</a>
<a class="sourceLine" id="cb21-2" data-line-number="2">...     <span class="cf">raise</span> <span class="pp">KeyboardInterrupt</span></a>
<a class="sourceLine" id="cb21-3" data-line-number="3">... <span class="cf">finally</span>:</a>
<a class="sourceLine" id="cb21-4" data-line-number="4">...     <span class="bu">print</span>(<span class="st">&#39;Goodbye, world!&#39;</span>)</a>
<a class="sourceLine" id="cb21-5" data-line-number="5">...</a>
<a class="sourceLine" id="cb21-6" data-line-number="6">Goodbye, world<span class="op">!</span></a>
<a class="sourceLine" id="cb21-7" data-line-number="7"><span class="pp">KeyboardInterrupt</span></a>
<a class="sourceLine" id="cb21-8" data-line-number="8">Traceback (most recent call last):</a>
<a class="sourceLine" id="cb21-9" data-line-number="9">  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">2</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></a></code></pre></div></li>
<li><p><code>class</code>语句。用于定义类型。详见类部分。</p></li>
<li><p>def语句。用于定义函数和类型的方法，详见函数部分。</p></li>
<li><p>lambda 表达式。</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb22-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> make_incrementor(n):</a>
<a class="sourceLine" id="cb22-2" data-line-number="2">...     <span class="co"># 使用 lambda 返回一个函数</span></a>
<a class="sourceLine" id="cb22-3" data-line-number="3">...     <span class="cf">return</span> <span class="kw">lambda</span> x: x <span class="op">+</span> n</a>
<a class="sourceLine" id="cb22-4" data-line-number="4">...</a>
<a class="sourceLine" id="cb22-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> make_incrementor(<span class="dv">42</span>)</a>
<a class="sourceLine" id="cb22-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> f(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb22-7" data-line-number="7"><span class="dv">42</span></a>
<a class="sourceLine" id="cb22-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> f(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb22-9" data-line-number="9"><span class="dv">43</span></a>
<a class="sourceLine" id="cb22-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> pairs <span class="op">=</span> [(<span class="dv">1</span>, <span class="st">&#39;one&#39;</span>), (<span class="dv">2</span>, <span class="st">&#39;two&#39;</span>), (<span class="dv">3</span>, <span class="st">&#39;three&#39;</span>), (<span class="dv">4</span>, <span class="st">&#39;four&#39;</span>)]</a>
<a class="sourceLine" id="cb22-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> pairs.sort(key<span class="op">=</span><span class="kw">lambda</span> pair: pair[<span class="dv">1</span>]) <span class="co"># 返回一个函数作为参数</span></a>
<a class="sourceLine" id="cb22-12" data-line-number="12"><span class="op">&gt;&gt;&gt;</span> pairs</a>
<a class="sourceLine" id="cb22-13" data-line-number="13">[(<span class="dv">4</span>, <span class="st">&#39;four&#39;</span>), (<span class="dv">1</span>, <span class="st">&#39;one&#39;</span>), (<span class="dv">3</span>, <span class="st">&#39;three&#39;</span>), (<span class="dv">2</span>, <span class="st">&#39;two&#39;</span>)]</a></code></pre></div></li>
<li><p><code>pass</code>语句。表示此行为空，不运行任何操作。</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> foo():</a>
<a class="sourceLine" id="cb23-2" data-line-number="2">...     <span class="bu">print</span>(<span class="st">&quot;before pass&quot;</span>)</a>
<a class="sourceLine" id="cb23-3" data-line-number="3">...     <span class="cf">pass</span></a>
<a class="sourceLine" id="cb23-4" data-line-number="4">...     <span class="bu">print</span>(<span class="st">&quot;after pass&quot;</span>)</a>
<a class="sourceLine" id="cb23-5" data-line-number="5">...</a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> foo()</a>
<a class="sourceLine" id="cb23-7" data-line-number="7">before <span class="cf">pass</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8">after <span class="cf">pass</span></a></code></pre></div></li>
<li><p><code>assert</code>语句。用于程序调适阶段时测试运行条件是否满足。</p></li>
<li><p><code>with</code>语句。Python2.6以后定义的语法，在一个场景中运行语句块。比如，运行语句块前加锁，然后在语句块运行结束后释放锁。</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&#39;/tmp/workfile&#39;</span>, <span class="st">&#39;r&#39;</span>) <span class="im">as</span> f:</a>
<a class="sourceLine" id="cb24-2" data-line-number="2">...     read_data <span class="op">=</span> f.read() <span class="co"># 不需要再调用 f.close()</span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> f.closed</a>
<a class="sourceLine" id="cb24-4" data-line-number="4"><span class="va">True</span></a></code></pre></div></li>
<li><p><code>yield</code>语句。在迭代器函数内使用，用于返回一个元素。自从Python 2.5版本以后。这个语句变成一个运算符。参见 <a href="https://www.python.org/dev/peps/pep-0255/">yield</a> 。</p>
<p>示例1:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="co"># 可以看作生产者</span></a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="kw">def</span> fib():</a>
<a class="sourceLine" id="cb25-3" data-line-number="3">    a, b <span class="op">=</span> <span class="dv">0</span>, <span class="dv">1</span></a>
<a class="sourceLine" id="cb25-4" data-line-number="4">    <span class="cf">while</span> <span class="dv">1</span>:</a>
<a class="sourceLine" id="cb25-5" data-line-number="5">       <span class="cf">yield</span> b</a>
<a class="sourceLine" id="cb25-6" data-line-number="6">       a, b <span class="op">=</span> b, a<span class="op">+</span>b</a>
<a class="sourceLine" id="cb25-7" data-line-number="7"></a>
<a class="sourceLine" id="cb25-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> g <span class="op">=</span> fib()</a>
<a class="sourceLine" id="cb25-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> g</a>
<a class="sourceLine" id="cb25-10" data-line-number="10"><span class="op">&lt;</span>generator <span class="bu">object</span> fib at <span class="bn">0x101f3ca40</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb25-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> g.send(<span class="va">None</span>)</a>
<a class="sourceLine" id="cb25-12" data-line-number="12"><span class="dv">1</span></a>
<a class="sourceLine" id="cb25-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span> g.send(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb25-14" data-line-number="14"><span class="dv">1</span></a>
<a class="sourceLine" id="cb25-15" data-line-number="15"><span class="op">&gt;&gt;&gt;</span> g.send(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb25-16" data-line-number="16"><span class="dv">2</span></a>
<a class="sourceLine" id="cb25-17" data-line-number="17"><span class="op">&gt;&gt;&gt;</span> g.send(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb25-18" data-line-number="18"><span class="dv">3</span></a>
<a class="sourceLine" id="cb25-19" data-line-number="19"><span class="op">&gt;&gt;&gt;</span> g.send(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb25-20" data-line-number="20"><span class="dv">5</span></a>
<a class="sourceLine" id="cb25-21" data-line-number="21"><span class="op">&gt;&gt;&gt;</span> g.close()</a></code></pre></div>
<p>示例2:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="kw">def</span> g():</a>
<a class="sourceLine" id="cb26-2" data-line-number="2">    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</a>
<a class="sourceLine" id="cb26-3" data-line-number="3">        <span class="cf">yield</span> i</a>
<a class="sourceLine" id="cb26-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> g <span class="op">=</span> g()</a>
<a class="sourceLine" id="cb26-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> i <span class="kw">in</span> g:</a>
<a class="sourceLine" id="cb26-6" data-line-number="6">...     <span class="bu">print</span>(i)</a>
<a class="sourceLine" id="cb26-7" data-line-number="7">...</a>
<a class="sourceLine" id="cb26-8" data-line-number="8"><span class="dv">0</span></a>
<a class="sourceLine" id="cb26-9" data-line-number="9"><span class="dv">1</span></a>
<a class="sourceLine" id="cb26-10" data-line-number="10"><span class="dv">2</span></a>
<a class="sourceLine" id="cb26-11" data-line-number="11"><span class="dv">3</span></a>
<a class="sourceLine" id="cb26-12" data-line-number="12"><span class="dv">4</span></a>
<a class="sourceLine" id="cb26-13" data-line-number="13"><span class="dv">5</span></a>
<a class="sourceLine" id="cb26-14" data-line-number="14"><span class="dv">6</span></a>
<a class="sourceLine" id="cb26-15" data-line-number="15"><span class="dv">7</span></a>
<a class="sourceLine" id="cb26-16" data-line-number="16"><span class="dv">8</span></a>
<a class="sourceLine" id="cb26-17" data-line-number="17"><span class="dv">9</span></a></code></pre></div></li>
<li><p><code>raise</code>语句。抛出一个异常。</p></li>
<li><div class="sourceCode" id="cb27"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="cf">try</span>:</a>
<a class="sourceLine" id="cb27-2" data-line-number="2">...     <span class="cf">raise</span> <span class="pp">NameError</span>(<span class="st">&#39;HiThere&#39;</span>)</a>
<a class="sourceLine" id="cb27-3" data-line-number="3">... <span class="cf">except</span> <span class="pp">NameError</span>:</a>
<a class="sourceLine" id="cb27-4" data-line-number="4">...     <span class="bu">print</span>(<span class="st">&#39;An exception flew by!&#39;</span>)</a>
<a class="sourceLine" id="cb27-5" data-line-number="5">...     <span class="cf">raise</span></a>
<a class="sourceLine" id="cb27-6" data-line-number="6">...</a>
<a class="sourceLine" id="cb27-7" data-line-number="7">An exception flew by<span class="op">!</span></a>
<a class="sourceLine" id="cb27-8" data-line-number="8">Traceback (most recent call last):</a>
<a class="sourceLine" id="cb27-9" data-line-number="9">  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">2</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb27-10" data-line-number="10"><span class="pp">NameError</span>: HiThere</a></code></pre></div></li>
<li><p><code>import</code>语句。导入一个模块或包。常用写法：<code>from module import name, import module as name, from module import name as anothername</code></p></li>
</ul>
<h5 id="字符串">字符串</h5>
<p>Python 中字符串可以使用单引号或双引号：</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;spam eggs&#39;</span>  <span class="co"># 单引号</span></a>
<a class="sourceLine" id="cb28-2" data-line-number="2"><span class="co">&#39;spam eggs&#39;</span></a>
<a class="sourceLine" id="cb28-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;doesn</span><span class="ch">\&#39;</span><span class="st">t&#39;</span>  <span class="co"># 用 \ 进行转义</span></a>
<a class="sourceLine" id="cb28-4" data-line-number="4"><span class="co">&quot;doesn&#39;t&quot;</span></a>
<a class="sourceLine" id="cb28-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;doesn&#39;t&quot;</span>  <span class="co"># 或者使用双引号</span></a>
<a class="sourceLine" id="cb28-6" data-line-number="6"><span class="co">&quot;doesn&#39;t&quot;</span></a>
<a class="sourceLine" id="cb28-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;&quot;Yes,&quot; they said.&#39;</span></a>
<a class="sourceLine" id="cb28-8" data-line-number="8"><span class="co">&#39;&quot;Yes,&quot; they said.&#39;</span></a>
<a class="sourceLine" id="cb28-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;</span><span class="ch">\&quot;</span><span class="st">Yes,</span><span class="ch">\&quot;</span><span class="st"> they said.&quot;</span></a>
<a class="sourceLine" id="cb28-10" data-line-number="10"><span class="co">&#39;&quot;Yes,&quot; they said.&#39;</span></a>
<a class="sourceLine" id="cb28-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;&quot;Isn</span><span class="ch">\&#39;</span><span class="st">t,&quot; they said.&#39;</span></a>
<a class="sourceLine" id="cb28-12" data-line-number="12"><span class="co">&#39;&quot;Isn\&#39;t,&quot; they said.&#39;</span></a>
<a class="sourceLine" id="cb28-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&#39;C:\some</span><span class="ch">\n</span><span class="st">ame&#39;</span>)  <span class="co"># 这里 \n 表示换行</span></a>
<a class="sourceLine" id="cb28-14" data-line-number="14">C:<span class="op">\</span>some</a>
<a class="sourceLine" id="cb28-15" data-line-number="15">ame</a>
<a class="sourceLine" id="cb28-16" data-line-number="16"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="vs">r&#39;C:\some\name&#39;</span>)  <span class="co"># 在字符串左边使用 r 则 \n 不换行</span></a>
<a class="sourceLine" id="cb28-17" data-line-number="17">C:<span class="op">\</span>some<span class="op">\</span>name</a></code></pre></div>
<p>使用三引号 <code>&quot;&quot;&quot;...&quot;&quot;&quot;</code> 或 <code>'''...'''</code> 可以使字符串字面量跨行，换行符会被自动添加，可以在行尾添加 <code>\</code> 来禁止换行：</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(<span class="st">&quot;&quot;&quot;\</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="st">... Usage: thingy [OPTIONS]</span></a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="st">...      -h                        Display this usage message</span></a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="st">...      -H hostname               Hostname to connect to</span></a>
<a class="sourceLine" id="cb29-5" data-line-number="5"><span class="st">... &quot;&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb29-6" data-line-number="6">Usage: thingy [OPTIONS]</a>
<a class="sourceLine" id="cb29-7" data-line-number="7">     <span class="op">-</span>h                        Display this usage message</a>
<a class="sourceLine" id="cb29-8" data-line-number="8">     <span class="op">-</span>H hostname               Hostname to <span class="ex">connect</span> to</a></code></pre></div>
<p>字符串拼接：</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="dv">3</span> <span class="op">*</span> <span class="st">&#39;un&#39;</span> <span class="op">+</span> <span class="st">&#39;ium&#39;</span> <span class="co"># 3 times &#39;un&#39;, followed by &#39;ium&#39;</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="co">&#39;unununium&#39;</span></a>
<a class="sourceLine" id="cb30-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;Py&#39;</span> <span class="st">&#39;thon&#39;</span> <span class="co"># 两个或多个相邻的字符串会自动被拼接在一起，这个特性对分解长字符串很有用</span></a>
<a class="sourceLine" id="cb30-4" data-line-number="4"><span class="co">&#39;Python&#39;</span></a>
<a class="sourceLine" id="cb30-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> text <span class="op">=</span> (<span class="st">&#39;Put several strings within parentheses &#39;</span></a>
<a class="sourceLine" id="cb30-6" data-line-number="6">...         <span class="st">&#39;to have them joined together.&#39;</span>)</a>
<a class="sourceLine" id="cb30-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> text</a>
<a class="sourceLine" id="cb30-8" data-line-number="8"><span class="co">&#39;Put several strings within parentheses to have them joined together.&#39;</span></a>
<a class="sourceLine" id="cb30-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> prefix <span class="op">=</span> <span class="st">&#39;Py&#39;</span> <span class="co"># 自动拼接只用于字面量，对变量或表达式无效</span></a>
<a class="sourceLine" id="cb30-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> prefix <span class="st">&#39;thon&#39;</span>  <span class="co"># can&#39;t concatenate a variable and a string literal</span></a>
<a class="sourceLine" id="cb30-11" data-line-number="11">  ...</a>
<a class="sourceLine" id="cb30-12" data-line-number="12"><span class="pp">SyntaxError</span>: invalid syntax</a>
<a class="sourceLine" id="cb30-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span> (<span class="st">&#39;un&#39;</span> <span class="op">*</span> <span class="dv">3</span>) <span class="st">&#39;ium&#39;</span></a>
<a class="sourceLine" id="cb30-14" data-line-number="14">  ...</a>
<a class="sourceLine" id="cb30-15" data-line-number="15"><span class="pp">SyntaxError</span>: invalid syntax</a></code></pre></div>
<p>可以使用索引下标访问字符串中的字符：</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> word <span class="op">=</span> <span class="st">&#39;Python&#39;</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">0</span>]  <span class="co"># character in position 0</span></a>
<a class="sourceLine" id="cb31-3" data-line-number="3"><span class="co">&#39;P&#39;</span></a>
<a class="sourceLine" id="cb31-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">5</span>]  <span class="co"># character in position 5</span></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="co">&#39;n&#39;</span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> word[<span class="op">-</span><span class="dv">1</span>]  <span class="co"># last character</span></a>
<a class="sourceLine" id="cb31-7" data-line-number="7"><span class="co">&#39;n&#39;</span></a>
<a class="sourceLine" id="cb31-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> word[<span class="op">-</span><span class="dv">2</span>]  <span class="co"># second-last character</span></a>
<a class="sourceLine" id="cb31-9" data-line-number="9"><span class="co">&#39;o&#39;</span></a>
<a class="sourceLine" id="cb31-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> word[<span class="op">-</span><span class="dv">6</span>]</a>
<a class="sourceLine" id="cb31-11" data-line-number="11"><span class="co">&#39;P&#39;</span></a>
<a class="sourceLine" id="cb31-12" data-line-number="12"><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">0</span>:<span class="dv">2</span>]  <span class="co"># characters from position 0 (included) to 2 (excluded)</span></a>
<a class="sourceLine" id="cb31-13" data-line-number="13"><span class="co">&#39;Py&#39;</span></a>
<a class="sourceLine" id="cb31-14" data-line-number="14"><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">2</span>:<span class="dv">5</span>]  <span class="co"># characters from position 2 (included) to 5 (excluded)</span></a>
<a class="sourceLine" id="cb31-15" data-line-number="15"><span class="co">&#39;tho&#39;</span></a>
<a class="sourceLine" id="cb31-16" data-line-number="16"><span class="op">&gt;&gt;&gt;</span> word[:<span class="dv">2</span>] <span class="op">+</span> word[<span class="dv">2</span>:]</a>
<a class="sourceLine" id="cb31-17" data-line-number="17"><span class="co">&#39;Python&#39;</span></a>
<a class="sourceLine" id="cb31-18" data-line-number="18"><span class="op">&gt;&gt;&gt;</span> word[:<span class="dv">4</span>] <span class="op">+</span> word[<span class="dv">4</span>:]</a>
<a class="sourceLine" id="cb31-19" data-line-number="19"><span class="co">&#39;Python&#39;</span></a>
<a class="sourceLine" id="cb31-20" data-line-number="20"><span class="op">&gt;&gt;&gt;</span> word[:<span class="dv">2</span>]   <span class="co"># character from the beginning to position 2 (excluded)</span></a>
<a class="sourceLine" id="cb31-21" data-line-number="21"><span class="co">&#39;Py&#39;</span></a>
<a class="sourceLine" id="cb31-22" data-line-number="22"><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">4</span>:]   <span class="co"># characters from position 4 (included) to the end</span></a>
<a class="sourceLine" id="cb31-23" data-line-number="23"><span class="co">&#39;on&#39;</span></a>
<a class="sourceLine" id="cb31-24" data-line-number="24"><span class="op">&gt;&gt;&gt;</span> word[<span class="op">-</span><span class="dv">2</span>:]  <span class="co"># characters from the second-last (included) to the end</span></a>
<a class="sourceLine" id="cb31-25" data-line-number="25"><span class="co">&#39;on&#39;</span></a>
<a class="sourceLine" id="cb31-26" data-line-number="26"><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">42</span>]  <span class="co"># the word only has 6 characters</span></a>
<a class="sourceLine" id="cb31-27" data-line-number="27">Traceback (most recent call last):</a>
<a class="sourceLine" id="cb31-28" data-line-number="28">  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb31-29" data-line-number="29"><span class="pp">IndexError</span>: string index out of <span class="bu">range</span></a>
<a class="sourceLine" id="cb31-30" data-line-number="30"><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">4</span>:<span class="dv">42</span>] <span class="co"># 但是可以使用超出范围的片段索引</span></a>
<a class="sourceLine" id="cb31-31" data-line-number="31"><span class="co">&#39;on&#39;</span></a>
<a class="sourceLine" id="cb31-32" data-line-number="32"><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">42</span>:]</a>
<a class="sourceLine" id="cb31-33" data-line-number="33"><span class="co">&#39;&#39;</span></a>
<a class="sourceLine" id="cb31-34" data-line-number="34"><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">0</span>] <span class="op">=</span> <span class="st">&#39;J&#39;</span> <span class="co"># 字符串是不可变的</span></a>
<a class="sourceLine" id="cb31-35" data-line-number="35">  ...</a>
<a class="sourceLine" id="cb31-36" data-line-number="36"><span class="pp">TypeError</span>: <span class="st">&#39;str&#39;</span> <span class="bu">object</span> does <span class="kw">not</span> support item assignment</a>
<a class="sourceLine" id="cb31-37" data-line-number="37"><span class="op">&gt;&gt;&gt;</span> word[<span class="dv">2</span>:] <span class="op">=</span> <span class="st">&#39;py&#39;</span></a>
<a class="sourceLine" id="cb31-38" data-line-number="38">  ...</a>
<a class="sourceLine" id="cb31-39" data-line-number="39"><span class="pp">TypeError</span>: <span class="st">&#39;str&#39;</span> <span class="bu">object</span> does <span class="kw">not</span> support item assignment</a>
<a class="sourceLine" id="cb31-40" data-line-number="40"><span class="op">&gt;&gt;&gt;</span> s <span class="op">=</span> <span class="st">&#39;supercalifragilisticexpialidocious&#39;</span></a>
<a class="sourceLine" id="cb31-41" data-line-number="41"><span class="op">&gt;&gt;&gt;</span> <span class="bu">len</span>(s) <span class="co"># 内置函数 len 返回字符串长度</span></a>
<a class="sourceLine" id="cb31-42" data-line-number="42"><span class="dv">34</span></a></code></pre></div>
<h5 id="序列类型">序列类型</h5>
<p>有三种基本的序列类型，列表（<a href="https://docs.python.org/3.6/tutorial/introduction.html#lists">list</a>）、元组（<a href="https://docs.python.org/3.6/tutorial/datastructures.html#tuples-and-sequences">tuple</a>）和 <a href="https://docs.python.org/3.6/library/stdtypes.html#range">range</a> 对象，另外的序列类型字符串上面已经讨论过，二进制数据（<a href="https://docs.python.org/3.6/library/stdtypes.html#binaryseq">binary data</a>）这里略过。</p>
<ul>
<li><p><strong>通用序列操作</strong></p>
<p>绝大部分序列（包括可变序列和不可变序列）都支持下表的操作，下表操作的优先级按升序排列，其中 <code>in</code> 和 <code>not in</code> 与比较运算符优先级相同，<code>+</code> 和 <code>*</code> 与对应的算术运算符优先级相同。</p>
<table>
<thead>
<tr class="header">
<th>操作</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>x in s</code></td>
<td>如果 s 包含 x 则为 True，否则为 False</td>
</tr>
<tr class="even">
<td><code>x not in s</code></td>
<td>如果 s 不包含 x 则为 True，否则为 False</td>
</tr>
<tr class="odd">
<td><code>s + t</code></td>
<td>s 和 t 拼接之后的值</td>
</tr>
<tr class="even">
<td><code>s * n</code> or <code>n * s</code></td>
<td>s 拼接自己 n 次</td>
</tr>
<tr class="odd">
<td><code>s[i]</code></td>
<td>s 中的第 i 个元素，从0开始</td>
</tr>
<tr class="even">
<td><code>s[i:j]</code></td>
<td>s 从 i 到 j 的分段</td>
</tr>
<tr class="odd">
<td><code>s[i:j:k]</code></td>
<td>s 从 i 到 j 并以 k 为步长的分段</td>
</tr>
<tr class="even">
<td><code>len(s)</code></td>
<td>s 的长度</td>
</tr>
<tr class="odd">
<td><code>min(s)</code></td>
<td>s 中最小的元素</td>
</tr>
<tr class="even">
<td><code>max(s)</code></td>
<td>s 中最大的元素</td>
</tr>
<tr class="odd">
<td><code>s.index(x[, i[, j]])</code></td>
<td>s 中 x 首次出现的索引（在索引 i 或之后，在索引 j 之前）</td>
</tr>
<tr class="even">
<td><code>s.count(x)</code></td>
<td>s 中 x 出现的次数</td>
</tr>
</tbody>
</table>
<p>示例：</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="st">&quot;gg&quot;</span> <span class="kw">in</span> <span class="st">&quot;eggs&quot;</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="va">True</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> lists <span class="op">=</span> [[]] <span class="op">*</span> <span class="dv">3</span></a>
<a class="sourceLine" id="cb32-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> lists</a>
<a class="sourceLine" id="cb32-5" data-line-number="5">[[], [], []]</a>
<a class="sourceLine" id="cb32-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> lists[<span class="dv">0</span>].append(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb32-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> lists</a>
<a class="sourceLine" id="cb32-8" data-line-number="8">[[<span class="dv">3</span>], [<span class="dv">3</span>], [<span class="dv">3</span>]]</a>
<a class="sourceLine" id="cb32-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> lists <span class="op">=</span> [[] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">3</span>)] <span class="co"># 也可以这样</span></a>
<a class="sourceLine" id="cb32-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> lists[<span class="dv">0</span>].append(<span class="dv">3</span>)</a>
<a class="sourceLine" id="cb32-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> lists[<span class="dv">1</span>].append(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb32-12" data-line-number="12"><span class="op">&gt;&gt;&gt;</span> lists[<span class="dv">2</span>].append(<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb32-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span> lists</a>
<a class="sourceLine" id="cb32-14" data-line-number="14">[[<span class="dv">3</span>], [<span class="dv">5</span>], [<span class="dv">7</span>]]</a></code></pre></div></li>
<li><p><strong>不可变序列</strong></p>
<p>不可变序列仅仅实现了一个可变序列没有实现的操作，即对内置 <a href="https://docs.python.org/3.6/library/functions.html#hash"><code>hash()</code></a> 函数的支持，这就使得不可变序列可以用作字典（<a href="https://docs.python.org/3.6/library/stdtypes.html#dict"><code>dict</code></a>）的键和保存在 <a href="https://docs.python.org/3.6/library/stdtypes.html#set"><code>set</code></a> 和 <a href="https://docs.python.org/3.6/library/stdtypes.html#frozenset"><code>frozenset</code></a> 实例中。</p></li>
<li><p><strong>可变序列</strong></p>
<p>下表是定义在可变序列中的操作：</p>
<table>
<thead>
<tr class="header">
<th>操作</th>
<th>结果</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>s[i] = x</code></td>
<td>x 替换 s 中索引 i 的元素</td>
</tr>
<tr class="even">
<td><code>s[i:j] = t</code></td>
<td>s 从 i 到 j 的片段被替换为可迭代的 t</td>
</tr>
<tr class="odd">
<td><code>del s[i:j]</code></td>
<td>等价于 <code>s[i:j] = []</code></td>
</tr>
<tr class="even">
<td><code>s[i:j:k] = t</code></td>
<td><code>s[i:j:k]</code> 中的元素被替换为 t 的元素</td>
</tr>
<tr class="odd">
<td><code>del s[i:j:k]</code></td>
<td>删除 <code>s[i:j:k]</code> 中的元素</td>
</tr>
<tr class="even">
<td><code>s.append(x)</code></td>
<td>在 s 尾部添加元素 x</td>
</tr>
<tr class="odd">
<td><code>s.clear()</code></td>
<td>删除 s 中的所有元素</td>
</tr>
<tr class="even">
<td><code>s.copy()</code></td>
<td>创建 s 的浅复制，等价于 <code>s[:]</code></td>
</tr>
<tr class="odd">
<td><code>s.extend(t)</code> or <code>s += t</code></td>
<td>将 t 添加到 s 尾部</td>
</tr>
<tr class="even">
<td><code>s *= n</code></td>
<td>将 s 更改为 s 重复 n 次的值</td>
</tr>
<tr class="odd">
<td><code>s.insert(i, x)</code></td>
<td>在 索引 i 处插入 x，等价于 <code>s[i:i] = [x]</code></td>
</tr>
<tr class="even">
<td><code>s.pop([i])</code></td>
<td>获取 i 处的元素并从 s 中删除它</td>
</tr>
<tr class="odd">
<td><code>s.remove(x)</code></td>
<td>从 s 中删除满足 <code>s[i] == x</code> 的第一个元素</td>
</tr>
<tr class="even">
<td><code>s.reverse()</code></td>
<td>翻转 s</td>
</tr>
</tbody>
</table></li>
<li><p><strong>Ranges</strong></p>
<p><a href="https://docs.python.org/3.6/library/stdtypes.html#range">range</a> 类型表示不可变的数值序列，通常用在 <code>for</code> 循环中。</p>
<p>示例：</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">10</span>))</a>
<a class="sourceLine" id="cb33-2" data-line-number="2">[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</a>
<a class="sourceLine" id="cb33-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>))</a>
<a class="sourceLine" id="cb33-4" data-line-number="4">[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>]</a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">30</span>, <span class="dv">5</span>))</a>
<a class="sourceLine" id="cb33-6" data-line-number="6">[<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">25</span>]</a>
<a class="sourceLine" id="cb33-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">3</span>))</a>
<a class="sourceLine" id="cb33-8" data-line-number="8">[<span class="dv">0</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">9</span>]</a>
<a class="sourceLine" id="cb33-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">-10</span>, <span class="dv">-1</span>))</a>
<a class="sourceLine" id="cb33-10" data-line-number="10">[<span class="dv">0</span>, <span class="dv">-1</span>, <span class="dv">-2</span>, <span class="dv">-3</span>, <span class="dv">-4</span>, <span class="dv">-5</span>, <span class="dv">-6</span>, <span class="dv">-7</span>, <span class="dv">-8</span>, <span class="dv">-9</span>]</a>
<a class="sourceLine" id="cb33-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">0</span>))</a>
<a class="sourceLine" id="cb33-12" data-line-number="12">[]</a>
<a class="sourceLine" id="cb33-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb33-14" data-line-number="14">[]</a>
<a class="sourceLine" id="cb33-15" data-line-number="15"><span class="op">&gt;&gt;&gt;</span> r <span class="op">=</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb33-16" data-line-number="16"><span class="op">&gt;&gt;&gt;</span> r</a>
<a class="sourceLine" id="cb33-17" data-line-number="17"><span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb33-18" data-line-number="18"><span class="op">&gt;&gt;&gt;</span> <span class="dv">11</span> <span class="kw">in</span> r <span class="co"># 检测是否包含 11</span></a>
<a class="sourceLine" id="cb33-19" data-line-number="19"><span class="va">False</span></a>
<a class="sourceLine" id="cb33-20" data-line-number="20"><span class="op">&gt;&gt;&gt;</span> <span class="dv">10</span> <span class="kw">in</span> r</a>
<a class="sourceLine" id="cb33-21" data-line-number="21"><span class="va">True</span></a>
<a class="sourceLine" id="cb33-22" data-line-number="22"><span class="op">&gt;&gt;&gt;</span> r.index(<span class="dv">10</span>) <span class="co"># 索引操作</span></a>
<a class="sourceLine" id="cb33-23" data-line-number="23"><span class="dv">5</span></a>
<a class="sourceLine" id="cb33-24" data-line-number="24"><span class="op">&gt;&gt;&gt;</span> r[<span class="dv">5</span>]</a>
<a class="sourceLine" id="cb33-25" data-line-number="25"><span class="dv">10</span></a>
<a class="sourceLine" id="cb33-26" data-line-number="26"><span class="op">&gt;&gt;&gt;</span> r[:<span class="dv">5</span>] <span class="co"># 分段</span></a>
<a class="sourceLine" id="cb33-27" data-line-number="27"><span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb33-28" data-line-number="28"><span class="op">&gt;&gt;&gt;</span> r[<span class="op">-</span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb33-29" data-line-number="29"><span class="dv">18</span></a></code></pre></div></li>
</ul>
<h5 id="列表list">列表（list）</h5>
<p>列表是可变序列：</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> squares <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>]</a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> squares</a>
<a class="sourceLine" id="cb34-3" data-line-number="3">[<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>]</a>
<a class="sourceLine" id="cb34-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> squares[<span class="dv">0</span>]  <span class="co"># indexing returns the item</span></a>
<a class="sourceLine" id="cb34-5" data-line-number="5"><span class="dv">1</span></a>
<a class="sourceLine" id="cb34-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> squares[<span class="op">-</span><span class="dv">1</span>]</a>
<a class="sourceLine" id="cb34-7" data-line-number="7"><span class="dv">25</span></a>
<a class="sourceLine" id="cb34-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> squares[<span class="op">-</span><span class="dv">3</span>:]  <span class="co"># slicing returns a new list</span></a>
<a class="sourceLine" id="cb34-9" data-line-number="9">[<span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>]</a>
<a class="sourceLine" id="cb34-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> squares[:] <span class="co"># return a new list</span></a>
<a class="sourceLine" id="cb34-11" data-line-number="11">[<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>]</a>
<a class="sourceLine" id="cb34-12" data-line-number="12"><span class="op">&gt;&gt;&gt;</span> squares <span class="op">+</span> [<span class="dv">36</span>, <span class="dv">49</span>, <span class="dv">64</span>, <span class="dv">81</span>, <span class="dv">100</span>] <span class="co"># 支持 + 号拼接</span></a>
<a class="sourceLine" id="cb34-13" data-line-number="13">[<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>, <span class="dv">36</span>, <span class="dv">49</span>, <span class="dv">64</span>, <span class="dv">81</span>, <span class="dv">100</span>]</a>
<a class="sourceLine" id="cb34-14" data-line-number="14"><span class="op">&gt;&gt;&gt;</span> cubes <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">27</span>, <span class="dv">65</span>, <span class="dv">125</span>]  <span class="co"># something&#39;s wrong here</span></a>
<a class="sourceLine" id="cb34-15" data-line-number="15"><span class="op">&gt;&gt;&gt;</span> <span class="dv">4</span> <span class="op">**</span> <span class="dv">3</span>  <span class="co"># the cube of 4 is 64, not 65!</span></a>
<a class="sourceLine" id="cb34-16" data-line-number="16"><span class="dv">64</span></a>
<a class="sourceLine" id="cb34-17" data-line-number="17"><span class="op">&gt;&gt;&gt;</span> cubes[<span class="dv">3</span>] <span class="op">=</span> <span class="dv">64</span>  <span class="co"># replace the wrong value</span></a>
<a class="sourceLine" id="cb34-18" data-line-number="18"><span class="op">&gt;&gt;&gt;</span> cubes</a>
<a class="sourceLine" id="cb34-19" data-line-number="19">[<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">27</span>, <span class="dv">64</span>, <span class="dv">125</span>]</a>
<a class="sourceLine" id="cb34-20" data-line-number="20"><span class="op">&gt;&gt;&gt;</span> cubes.append(<span class="dv">216</span>)  <span class="co"># add the cube of 6</span></a>
<a class="sourceLine" id="cb34-21" data-line-number="21"><span class="op">&gt;&gt;&gt;</span> cubes.append(<span class="dv">7</span> <span class="op">**</span> <span class="dv">3</span>)  <span class="co"># and the cube of 7</span></a>
<a class="sourceLine" id="cb34-22" data-line-number="22"><span class="op">&gt;&gt;&gt;</span> cubes</a>
<a class="sourceLine" id="cb34-23" data-line-number="23">[<span class="dv">1</span>, <span class="dv">8</span>, <span class="dv">27</span>, <span class="dv">64</span>, <span class="dv">125</span>, <span class="dv">216</span>, <span class="dv">343</span>]</a>
<a class="sourceLine" id="cb34-24" data-line-number="24"><span class="op">&gt;&gt;&gt;</span> letters <span class="op">=</span> [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;d&#39;</span>, <span class="st">&#39;e&#39;</span>, <span class="st">&#39;f&#39;</span>, <span class="st">&#39;g&#39;</span>]</a>
<a class="sourceLine" id="cb34-25" data-line-number="25"><span class="op">&gt;&gt;&gt;</span> letters</a>
<a class="sourceLine" id="cb34-26" data-line-number="26">[<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;d&#39;</span>, <span class="st">&#39;e&#39;</span>, <span class="st">&#39;f&#39;</span>, <span class="st">&#39;g&#39;</span>]</a>
<a class="sourceLine" id="cb34-27" data-line-number="27"><span class="op">&gt;&gt;&gt;</span> letters[<span class="dv">2</span>:<span class="dv">5</span>] <span class="op">=</span> [<span class="st">&#39;C&#39;</span>, <span class="st">&#39;D&#39;</span>, <span class="st">&#39;E&#39;</span>] <span class="co"># replace some values</span></a>
<a class="sourceLine" id="cb34-28" data-line-number="28"><span class="op">&gt;&gt;&gt;</span> letters</a>
<a class="sourceLine" id="cb34-29" data-line-number="29">[<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;C&#39;</span>, <span class="st">&#39;D&#39;</span>, <span class="st">&#39;E&#39;</span>, <span class="st">&#39;f&#39;</span>, <span class="st">&#39;g&#39;</span>]</a>
<a class="sourceLine" id="cb34-30" data-line-number="30"><span class="op">&gt;&gt;&gt;</span> letters[<span class="dv">2</span>:<span class="dv">5</span>] <span class="op">=</span> [] <span class="co"># now remove them</span></a>
<a class="sourceLine" id="cb34-31" data-line-number="31"><span class="op">&gt;&gt;&gt;</span> letters</a>
<a class="sourceLine" id="cb34-32" data-line-number="32">[<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;f&#39;</span>, <span class="st">&#39;g&#39;</span>]</a>
<a class="sourceLine" id="cb34-33" data-line-number="33"><span class="op">&gt;&gt;&gt;</span> letters[:] <span class="op">=</span> [] <span class="co"># clear the list by replacing all the elements with an empty list</span></a>
<a class="sourceLine" id="cb34-34" data-line-number="34"><span class="op">&gt;&gt;&gt;</span> letters</a>
<a class="sourceLine" id="cb34-35" data-line-number="35">[]</a>
<a class="sourceLine" id="cb34-36" data-line-number="36"><span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> [<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>] <span class="co"># 也创建包含其他列表的列表</span></a>
<a class="sourceLine" id="cb34-37" data-line-number="37"><span class="op">&gt;&gt;&gt;</span> n <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</a>
<a class="sourceLine" id="cb34-38" data-line-number="38"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> [a, n]</a>
<a class="sourceLine" id="cb34-39" data-line-number="39"><span class="op">&gt;&gt;&gt;</span> x</a>
<a class="sourceLine" id="cb34-40" data-line-number="40">[[<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>], [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]]</a>
<a class="sourceLine" id="cb34-41" data-line-number="41"><span class="op">&gt;&gt;&gt;</span> x[<span class="dv">0</span>]</a>
<a class="sourceLine" id="cb34-42" data-line-number="42">[<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>]</a>
<a class="sourceLine" id="cb34-43" data-line-number="43"><span class="op">&gt;&gt;&gt;</span> x[<span class="dv">0</span>][<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb34-44" data-line-number="44"><span class="co">&#39;b&#39;</span></a></code></pre></div>
<p>使用列表作为栈（Stacks）：</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> stack <span class="op">=</span> [<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]</a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> stack.append(<span class="dv">6</span>)</a>
<a class="sourceLine" id="cb35-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> stack.append(<span class="dv">7</span>)</a>
<a class="sourceLine" id="cb35-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> stack</a>
<a class="sourceLine" id="cb35-5" data-line-number="5">[<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>]</a>
<a class="sourceLine" id="cb35-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> stack.pop()</a>
<a class="sourceLine" id="cb35-7" data-line-number="7"><span class="dv">7</span></a>
<a class="sourceLine" id="cb35-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> stack</a>
<a class="sourceLine" id="cb35-9" data-line-number="9">[<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>]</a>
<a class="sourceLine" id="cb35-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> stack.pop()</a>
<a class="sourceLine" id="cb35-11" data-line-number="11"><span class="dv">6</span></a>
<a class="sourceLine" id="cb35-12" data-line-number="12"><span class="op">&gt;&gt;&gt;</span> stack.pop()</a>
<a class="sourceLine" id="cb35-13" data-line-number="13"><span class="dv">5</span></a>
<a class="sourceLine" id="cb35-14" data-line-number="14"><span class="op">&gt;&gt;&gt;</span> stack</a>
<a class="sourceLine" id="cb35-15" data-line-number="15">[<span class="dv">3</span>, <span class="dv">4</span>]</a></code></pre></div>
<p>使用列表作为队列（Queues），但是效率不高，应该使用 <a href="https://docs.python.org/3.6/library/collections.html#collections.deque"><code>collections.deque</code></a>：</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="im">from</span> collections <span class="im">import</span> deque</a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> queue <span class="op">=</span> deque([<span class="st">&quot;Eric&quot;</span>, <span class="st">&quot;John&quot;</span>, <span class="st">&quot;Michael&quot;</span>])</a>
<a class="sourceLine" id="cb36-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> queue.append(<span class="st">&quot;Terry&quot;</span>)           <span class="co"># Terry arrives</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> queue.append(<span class="st">&quot;Graham&quot;</span>)          <span class="co"># Graham arrives</span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> queue.popleft()                 <span class="co"># The first to arrive now leaves</span></a>
<a class="sourceLine" id="cb36-6" data-line-number="6"><span class="co">&#39;Eric&#39;</span></a>
<a class="sourceLine" id="cb36-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> queue.popleft()                 <span class="co"># The second to arrive now leaves</span></a>
<a class="sourceLine" id="cb36-8" data-line-number="8"><span class="co">&#39;John&#39;</span></a>
<a class="sourceLine" id="cb36-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> queue                           <span class="co"># Remaining queue in order of arrival</span></a>
<a class="sourceLine" id="cb36-10" data-line-number="10">deque([<span class="st">&#39;Michael&#39;</span>, <span class="st">&#39;Terry&#39;</span>, <span class="st">&#39;Graham&#39;</span>])</a></code></pre></div>
<p>列表推导式：</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb37-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> squares <span class="op">=</span> []</a>
<a class="sourceLine" id="cb37-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>):</a>
<a class="sourceLine" id="cb37-3" data-line-number="3">...     squares.append(x<span class="op">**</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb37-4" data-line-number="4">...     <span class="co"># 循环结束之后 x 依然存在</span></a>
<a class="sourceLine" id="cb37-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> squares</a>
<a class="sourceLine" id="cb37-6" data-line-number="6">[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">9</span>, <span class="dv">16</span>, <span class="dv">25</span>, <span class="dv">36</span>, <span class="dv">49</span>, <span class="dv">64</span>, <span class="dv">81</span>]</a>
<a class="sourceLine" id="cb37-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> x</a>
<a class="sourceLine" id="cb37-8" data-line-number="8"><span class="dv">9</span></a>
<a class="sourceLine" id="cb37-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> squares <span class="op">=</span> <span class="bu">list</span>(<span class="bu">map</span>(<span class="kw">lambda</span> x: x<span class="op">**</span><span class="dv">2</span>, <span class="bu">range</span>(<span class="dv">10</span>))) <span class="co"># 更好的方式</span></a>
<a class="sourceLine" id="cb37-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>)] <span class="co"># 或者（等效）</span></a>
<a class="sourceLine" id="cb37-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> [(x, y) <span class="cf">for</span> x <span class="kw">in</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>] <span class="cf">for</span> y <span class="kw">in</span> [<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>] <span class="cf">if</span> x <span class="op">!=</span> y]  <span class="co"># 也可以这样</span></a>
<a class="sourceLine" id="cb37-12" data-line-number="12">[(<span class="dv">1</span>, <span class="dv">3</span>), (<span class="dv">1</span>, <span class="dv">4</span>), (<span class="dv">2</span>, <span class="dv">3</span>), (<span class="dv">2</span>, <span class="dv">1</span>), (<span class="dv">2</span>, <span class="dv">4</span>), (<span class="dv">3</span>, <span class="dv">1</span>), (<span class="dv">3</span>, <span class="dv">4</span>)]</a>
<a class="sourceLine" id="cb37-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span> combs <span class="op">=</span> [] <span class="co"># 等效于</span></a>
<a class="sourceLine" id="cb37-14" data-line-number="14"><span class="op">&gt;&gt;&gt;</span> <span class="cf">for</span> x <span class="kw">in</span> [<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]:</a>
<a class="sourceLine" id="cb37-15" data-line-number="15">...     <span class="cf">for</span> y <span class="kw">in</span> [<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">4</span>]:</a>
<a class="sourceLine" id="cb37-16" data-line-number="16">...         <span class="cf">if</span> x <span class="op">!=</span> y:</a>
<a class="sourceLine" id="cb37-17" data-line-number="17">...             combs.append((x, y))</a>
<a class="sourceLine" id="cb37-18" data-line-number="18">...</a>
<a class="sourceLine" id="cb37-19" data-line-number="19"><span class="op">&gt;&gt;&gt;</span> combs</a>
<a class="sourceLine" id="cb37-20" data-line-number="20">[(<span class="dv">1</span>, <span class="dv">3</span>), (<span class="dv">1</span>, <span class="dv">4</span>), (<span class="dv">2</span>, <span class="dv">3</span>), (<span class="dv">2</span>, <span class="dv">1</span>), (<span class="dv">2</span>, <span class="dv">4</span>), (<span class="dv">3</span>, <span class="dv">1</span>), (<span class="dv">3</span>, <span class="dv">4</span>)]</a>
<a class="sourceLine" id="cb37-21" data-line-number="21"><span class="op">&gt;&gt;&gt;</span> [<span class="bu">abs</span>(x) <span class="cf">for</span> x <span class="kw">in</span> vec] <span class="co"># 使用函数</span></a>
<a class="sourceLine" id="cb37-22" data-line-number="22">[<span class="dv">4</span>, <span class="dv">2</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>]</a>
<a class="sourceLine" id="cb37-23" data-line-number="23"><span class="op">&gt;&gt;&gt;</span> freshfruit <span class="op">=</span> [<span class="st">&#39;  banana&#39;</span>, <span class="st">&#39;  loganberry &#39;</span>, <span class="st">&#39;passion fruit  &#39;</span>]</a>
<a class="sourceLine" id="cb37-24" data-line-number="24"><span class="op">&gt;&gt;&gt;</span> [weapon.strip() <span class="cf">for</span> weapon <span class="kw">in</span> freshfruit]</a>
<a class="sourceLine" id="cb37-25" data-line-number="25">[<span class="st">&#39;banana&#39;</span>, <span class="st">&#39;loganberry&#39;</span>, <span class="st">&#39;passion fruit&#39;</span>]</a>
<a class="sourceLine" id="cb37-26" data-line-number="26"><span class="op">&gt;&gt;&gt;</span> [(x, x<span class="op">**</span><span class="dv">2</span>) <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">6</span>)] <span class="co"># 创建包含元组的列表</span></a>
<a class="sourceLine" id="cb37-27" data-line-number="27">[(<span class="dv">0</span>, <span class="dv">0</span>), (<span class="dv">1</span>, <span class="dv">1</span>), (<span class="dv">2</span>, <span class="dv">4</span>), (<span class="dv">3</span>, <span class="dv">9</span>), (<span class="dv">4</span>, <span class="dv">16</span>), (<span class="dv">5</span>, <span class="dv">25</span>)]</a>
<a class="sourceLine" id="cb37-28" data-line-number="28"><span class="op">&gt;&gt;&gt;</span> [x, x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">6</span>)] <span class="co"># 元组必须使用括号</span></a>
<a class="sourceLine" id="cb37-29" data-line-number="29">  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb37-30" data-line-number="30">    [x, x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">6</span>)]</a>
<a class="sourceLine" id="cb37-31" data-line-number="31">               <span class="op">^</span></a>
<a class="sourceLine" id="cb37-32" data-line-number="32"><span class="pp">SyntaxError</span>: invalid syntax</a>
<a class="sourceLine" id="cb37-33" data-line-number="33"><span class="op">&gt;&gt;&gt;</span> vec <span class="op">=</span> [[<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>], [<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>], [<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span>]] <span class="co"># 降维</span></a>
<a class="sourceLine" id="cb37-34" data-line-number="34"><span class="op">&gt;&gt;&gt;</span> [num <span class="cf">for</span> elem <span class="kw">in</span> vec <span class="cf">for</span> num <span class="kw">in</span> elem]</a>
<a class="sourceLine" id="cb37-35" data-line-number="35">[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]</a></code></pre></div>
<p>嵌套列表推导式：</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> matrix <span class="op">=</span> [</a>
<a class="sourceLine" id="cb38-2" data-line-number="2">...     [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>],</a>
<a class="sourceLine" id="cb38-3" data-line-number="3">...     [<span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>],</a>
<a class="sourceLine" id="cb38-4" data-line-number="4">...     [<span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>],</a>
<a class="sourceLine" id="cb38-5" data-line-number="5">... ]</a>
<a class="sourceLine" id="cb38-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> [[row[i] <span class="cf">for</span> row <span class="kw">in</span> matrix] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">4</span>)]</a>
<a class="sourceLine" id="cb38-7" data-line-number="7">[[<span class="dv">1</span>, <span class="dv">5</span>, <span class="dv">9</span>], [<span class="dv">2</span>, <span class="dv">6</span>, <span class="dv">10</span>], [<span class="dv">3</span>, <span class="dv">7</span>, <span class="dv">11</span>], [<span class="dv">4</span>, <span class="dv">8</span>, <span class="dv">12</span>]]</a></code></pre></div>
<h5 id="元组tuple">元组（tuple）</h5>
<p>元组由英文逗号分隔的值组成：</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb39-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> t <span class="op">=</span> <span class="dv">12345</span>, <span class="dv">54321</span>, <span class="st">&#39;hello!&#39;</span></a>
<a class="sourceLine" id="cb39-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> t[<span class="dv">0</span>]</a>
<a class="sourceLine" id="cb39-3" data-line-number="3"><span class="dv">12345</span></a>
<a class="sourceLine" id="cb39-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> t</a>
<a class="sourceLine" id="cb39-5" data-line-number="5">(<span class="dv">12345</span>, <span class="dv">54321</span>, <span class="st">&#39;hello!&#39;</span>)</a>
<a class="sourceLine" id="cb39-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> <span class="co"># Tuples may be nested:</span></a>
<a class="sourceLine" id="cb39-7" data-line-number="7">... u <span class="op">=</span> t, (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</a>
<a class="sourceLine" id="cb39-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> u</a>
<a class="sourceLine" id="cb39-9" data-line-number="9">((<span class="dv">12345</span>, <span class="dv">54321</span>, <span class="st">&#39;hello!&#39;</span>), (<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>))</a>
<a class="sourceLine" id="cb39-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> <span class="co"># Tuples are immutable:</span></a>
<a class="sourceLine" id="cb39-11" data-line-number="11">... t[<span class="dv">0</span>] <span class="op">=</span> <span class="dv">88888</span></a>
<a class="sourceLine" id="cb39-12" data-line-number="12">Traceback (most recent call last):</a>
<a class="sourceLine" id="cb39-13" data-line-number="13">  File <span class="st">&quot;&lt;stdin&gt;&quot;</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb39-14" data-line-number="14"><span class="pp">TypeError</span>: <span class="st">&#39;tuple&#39;</span> <span class="bu">object</span> does <span class="kw">not</span> support item assignment</a>
<a class="sourceLine" id="cb39-15" data-line-number="15"><span class="op">&gt;&gt;&gt;</span> <span class="co"># but they can contain mutable objects:</span></a>
<a class="sourceLine" id="cb39-16" data-line-number="16">... v <span class="op">=</span> ([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>])</a>
<a class="sourceLine" id="cb39-17" data-line-number="17"><span class="op">&gt;&gt;&gt;</span> v</a>
<a class="sourceLine" id="cb39-18" data-line-number="18">([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>], [<span class="dv">3</span>, <span class="dv">2</span>, <span class="dv">1</span>])</a></code></pre></div>
<p>构造只有一个或0个元素的元组：</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb40-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> empty <span class="op">=</span> ()</a>
<a class="sourceLine" id="cb40-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> singleton <span class="op">=</span> <span class="st">&#39;hello&#39;</span>,    <span class="co"># 注意最后的逗号</span></a>
<a class="sourceLine" id="cb40-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="bu">len</span>(empty)</a>
<a class="sourceLine" id="cb40-4" data-line-number="4"><span class="dv">0</span></a>
<a class="sourceLine" id="cb40-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> <span class="bu">len</span>(singleton)</a>
<a class="sourceLine" id="cb40-6" data-line-number="6"><span class="dv">1</span></a>
<a class="sourceLine" id="cb40-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> singleton</a>
<a class="sourceLine" id="cb40-8" data-line-number="8">(<span class="st">&#39;hello&#39;</span>,)</a></code></pre></div>
<p><code>t = 12345, 54321, 'hello!'</code> 是元组打包（pack）的例子，<code>12345、54321 和 'hello!'</code> 被打包进了一个元组，相反，也可以进行拆包（unpack）：</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb41-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> x, y, z <span class="op">=</span> t</a>
<a class="sourceLine" id="cb41-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> x, y, z</a>
<a class="sourceLine" id="cb41-3" data-line-number="3">(<span class="dv">12345</span>, <span class="dv">54321</span>, <span class="st">&#39;hello!&#39;</span>)</a>
<a class="sourceLine" id="cb41-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> x</a>
<a class="sourceLine" id="cb41-5" data-line-number="5"><span class="dv">12345</span></a></code></pre></div>
<h5 id="集合sets">集合（sets）</h5>
<p>集合（<a href="https://docs.python.org/3.6/tutorial/datastructures.html#sets">sets</a>）不包含重复元素。可以用花括号或者 set() 函数创建集合。注意，要使用 set() 函数创建空集合，而不是使用 {} ，后者会创建空字典：</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb42-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> basket <span class="op">=</span> {<span class="st">&#39;apple&#39;</span>, <span class="st">&#39;orange&#39;</span>, <span class="st">&#39;apple&#39;</span>, <span class="st">&#39;pear&#39;</span>, <span class="st">&#39;orange&#39;</span>, <span class="st">&#39;banana&#39;</span>}</a>
<a class="sourceLine" id="cb42-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(basket)                      <span class="co"># show that duplicates have been removed</span></a>
<a class="sourceLine" id="cb42-3" data-line-number="3">{<span class="st">&#39;orange&#39;</span>, <span class="st">&#39;banana&#39;</span>, <span class="st">&#39;pear&#39;</span>, <span class="st">&#39;apple&#39;</span>}</a>
<a class="sourceLine" id="cb42-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;orange&#39;</span> <span class="kw">in</span> basket                 <span class="co"># fast membership testing</span></a>
<a class="sourceLine" id="cb42-5" data-line-number="5"><span class="va">True</span></a>
<a class="sourceLine" id="cb42-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;crabgrass&#39;</span> <span class="kw">in</span> basket</a>
<a class="sourceLine" id="cb42-7" data-line-number="7"><span class="va">False</span></a>
<a class="sourceLine" id="cb42-8" data-line-number="8"></a>
<a class="sourceLine" id="cb42-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> <span class="co"># Demonstrate set operations on unique letters from two words</span></a>
<a class="sourceLine" id="cb42-10" data-line-number="10">...</a>
<a class="sourceLine" id="cb42-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> a <span class="op">=</span> <span class="bu">set</span>(<span class="st">&#39;abracadabra&#39;</span>)</a>
<a class="sourceLine" id="cb42-12" data-line-number="12"><span class="op">&gt;&gt;&gt;</span> b <span class="op">=</span> <span class="bu">set</span>(<span class="st">&#39;alacazam&#39;</span>)</a>
<a class="sourceLine" id="cb42-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span> a                                  <span class="co"># unique letters in a</span></a>
<a class="sourceLine" id="cb42-14" data-line-number="14">{<span class="st">&#39;a&#39;</span>, <span class="st">&#39;r&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;d&#39;</span>}</a>
<a class="sourceLine" id="cb42-15" data-line-number="15"><span class="op">&gt;&gt;&gt;</span> a <span class="op">-</span> b                              <span class="co"># letters in a but not in b</span></a>
<a class="sourceLine" id="cb42-16" data-line-number="16">{<span class="st">&#39;r&#39;</span>, <span class="st">&#39;d&#39;</span>, <span class="st">&#39;b&#39;</span>}</a>
<a class="sourceLine" id="cb42-17" data-line-number="17"><span class="op">&gt;&gt;&gt;</span> a <span class="op">|</span> b                              <span class="co"># letters in a or b or both</span></a>
<a class="sourceLine" id="cb42-18" data-line-number="18">{<span class="st">&#39;a&#39;</span>, <span class="st">&#39;c&#39;</span>, <span class="st">&#39;r&#39;</span>, <span class="st">&#39;d&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;m&#39;</span>, <span class="st">&#39;z&#39;</span>, <span class="st">&#39;l&#39;</span>}</a>
<a class="sourceLine" id="cb42-19" data-line-number="19"><span class="op">&gt;&gt;&gt;</span> a <span class="op">&amp;</span> b                              <span class="co"># letters in both a and b</span></a>
<a class="sourceLine" id="cb42-20" data-line-number="20">{<span class="st">&#39;a&#39;</span>, <span class="st">&#39;c&#39;</span>}</a>
<a class="sourceLine" id="cb42-21" data-line-number="21"><span class="op">&gt;&gt;&gt;</span> a <span class="op">^</span> b                              <span class="co"># letters in a or b but not both</span></a>
<a class="sourceLine" id="cb42-22" data-line-number="22">{<span class="st">&#39;r&#39;</span>, <span class="st">&#39;d&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;m&#39;</span>, <span class="st">&#39;z&#39;</span>, <span class="st">&#39;l&#39;</span>}</a></code></pre></div>
<h5 id="字典">字典</h5>
<p>字典（参见 <a href="https://docs.python.org/3.6/library/stdtypes.html#typesmapping">Mapping Types — dict</a>）是另外一个有用的内置数据类型，类似 Java 中 Map 。</p>
<p>示例：</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb43-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> tel <span class="op">=</span> {<span class="st">&#39;jack&#39;</span>: <span class="dv">4098</span>, <span class="st">&#39;sape&#39;</span>: <span class="dv">4139</span>}</a>
<a class="sourceLine" id="cb43-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> tel[<span class="st">&#39;guido&#39;</span>] <span class="op">=</span> <span class="dv">4127</span></a>
<a class="sourceLine" id="cb43-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> tel</a>
<a class="sourceLine" id="cb43-4" data-line-number="4">{<span class="st">&#39;sape&#39;</span>: <span class="dv">4139</span>, <span class="st">&#39;guido&#39;</span>: <span class="dv">4127</span>, <span class="st">&#39;jack&#39;</span>: <span class="dv">4098</span>}</a>
<a class="sourceLine" id="cb43-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> tel[<span class="st">&#39;jack&#39;</span>]</a>
<a class="sourceLine" id="cb43-6" data-line-number="6"><span class="dv">4098</span></a>
<a class="sourceLine" id="cb43-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> <span class="kw">del</span> tel[<span class="st">&#39;sape&#39;</span>]</a>
<a class="sourceLine" id="cb43-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> tel[<span class="st">&#39;irv&#39;</span>] <span class="op">=</span> <span class="dv">4127</span></a>
<a class="sourceLine" id="cb43-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> tel</a>
<a class="sourceLine" id="cb43-10" data-line-number="10">{<span class="st">&#39;guido&#39;</span>: <span class="dv">4127</span>, <span class="st">&#39;irv&#39;</span>: <span class="dv">4127</span>, <span class="st">&#39;jack&#39;</span>: <span class="dv">4098</span>}</a>
<a class="sourceLine" id="cb43-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> <span class="bu">list</span>(tel.keys())</a>
<a class="sourceLine" id="cb43-12" data-line-number="12">[<span class="st">&#39;irv&#39;</span>, <span class="st">&#39;guido&#39;</span>, <span class="st">&#39;jack&#39;</span>]</a>
<a class="sourceLine" id="cb43-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span> <span class="bu">sorted</span>(tel.keys())</a>
<a class="sourceLine" id="cb43-14" data-line-number="14">[<span class="st">&#39;guido&#39;</span>, <span class="st">&#39;irv&#39;</span>, <span class="st">&#39;jack&#39;</span>]</a>
<a class="sourceLine" id="cb43-15" data-line-number="15"><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;guido&#39;</span> <span class="kw">in</span> tel</a>
<a class="sourceLine" id="cb43-16" data-line-number="16"><span class="va">True</span></a>
<a class="sourceLine" id="cb43-17" data-line-number="17"><span class="op">&gt;&gt;&gt;</span> <span class="st">&#39;jack&#39;</span> <span class="kw">not</span> <span class="kw">in</span> tel</a>
<a class="sourceLine" id="cb43-18" data-line-number="18"><span class="va">False</span></a></code></pre></div>
<p><a href="https://docs.python.org/3.6/library/stdtypes.html#dict"><code>dict()</code></a> 构造器可以使用键值对序列创建字典：</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb44-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="bu">dict</span>([(<span class="st">&#39;sape&#39;</span>, <span class="dv">4139</span>), (<span class="st">&#39;guido&#39;</span>, <span class="dv">4127</span>), (<span class="st">&#39;jack&#39;</span>, <span class="dv">4098</span>)])</a>
<a class="sourceLine" id="cb44-2" data-line-number="2">{<span class="st">&#39;sape&#39;</span>: <span class="dv">4139</span>, <span class="st">&#39;jack&#39;</span>: <span class="dv">4098</span>, <span class="st">&#39;guido&#39;</span>: <span class="dv">4127</span>}</a></code></pre></div>
<p>另外，也可以这样：</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb45-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> {x: x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> (<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>)}</a>
<a class="sourceLine" id="cb45-2" data-line-number="2">{<span class="dv">2</span>: <span class="dv">4</span>, <span class="dv">4</span>: <span class="dv">16</span>, <span class="dv">6</span>: <span class="dv">36</span>}</a>
<a class="sourceLine" id="cb45-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> <span class="bu">dict</span>(sape<span class="op">=</span><span class="dv">4139</span>, guido<span class="op">=</span><span class="dv">4127</span>, jack<span class="op">=</span><span class="dv">4098</span>)</a>
<a class="sourceLine" id="cb45-4" data-line-number="4">{<span class="st">&#39;sape&#39;</span>: <span class="dv">4139</span>, <span class="st">&#39;jack&#39;</span>: <span class="dv">4098</span>, <span class="st">&#39;guido&#39;</span>: <span class="dv">4127</span>}</a></code></pre></div>
<h5 id="函数">函数</h5>
<p>定义函数：</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb46-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> fib(n):    <span class="co"># write Fibonacci series up to n</span></a>
<a class="sourceLine" id="cb46-2" data-line-number="2">...     <span class="st">&quot;&quot;&quot;Print a Fibonacci series up to n.&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb46-3" data-line-number="3">...     a, b <span class="op">=</span> <span class="dv">0</span>, <span class="dv">1</span></a>
<a class="sourceLine" id="cb46-4" data-line-number="4">...     <span class="cf">while</span> a <span class="op">&lt;</span> n:</a>
<a class="sourceLine" id="cb46-5" data-line-number="5">...         <span class="bu">print</span>(a, end<span class="op">=</span><span class="st">&#39; &#39;</span>)</a>
<a class="sourceLine" id="cb46-6" data-line-number="6">...         a, b <span class="op">=</span> b, a<span class="op">+</span>b</a>
<a class="sourceLine" id="cb46-7" data-line-number="7">...     <span class="bu">print</span>()</a>
<a class="sourceLine" id="cb46-8" data-line-number="8">...</a>
<a class="sourceLine" id="cb46-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> <span class="co"># Now call the function we just defined:</span></a>
<a class="sourceLine" id="cb46-10" data-line-number="10">... fib(<span class="dv">2000</span>)</a>
<a class="sourceLine" id="cb46-11" data-line-number="11"><span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">8</span> <span class="dv">13</span> <span class="dv">21</span> <span class="dv">34</span> <span class="dv">55</span> <span class="dv">89</span> <span class="dv">144</span> <span class="dv">233</span> <span class="dv">377</span> <span class="dv">610</span> <span class="dv">987</span> <span class="dv">1597</span></a>
<a class="sourceLine" id="cb46-12" data-line-number="12"><span class="op">&gt;&gt;&gt;</span> fib</a>
<a class="sourceLine" id="cb46-13" data-line-number="13"><span class="op">&lt;</span>function fib at 10042ed0<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb46-14" data-line-number="14"><span class="op">&gt;&gt;&gt;</span> f <span class="op">=</span> fib</a>
<a class="sourceLine" id="cb46-15" data-line-number="15"><span class="op">&gt;&gt;&gt;</span> f(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb46-16" data-line-number="16"><span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">8</span> <span class="dv">13</span> <span class="dv">21</span> <span class="dv">34</span> <span class="dv">55</span> <span class="dv">89</span></a>
<a class="sourceLine" id="cb46-17" data-line-number="17"><span class="op">&gt;&gt;&gt;</span> fib(<span class="dv">0</span>)</a>
<a class="sourceLine" id="cb46-18" data-line-number="18"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(fib(<span class="dv">0</span>))</a>
<a class="sourceLine" id="cb46-19" data-line-number="19"><span class="va">None</span></a></code></pre></div>
<p>定义函数参数值：</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb47-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> ask_ok(prompt, retries<span class="op">=</span><span class="dv">4</span>, reminder<span class="op">=</span><span class="st">&#39;Please try again!&#39;</span>):</a>
<a class="sourceLine" id="cb47-2" data-line-number="2">...     <span class="cf">while</span> <span class="va">True</span>:</a>
<a class="sourceLine" id="cb47-3" data-line-number="3">...         ok <span class="op">=</span> <span class="bu">input</span>(prompt)</a>
<a class="sourceLine" id="cb47-4" data-line-number="4">...         <span class="cf">if</span> ok <span class="kw">in</span> (<span class="st">&#39;y&#39;</span>, <span class="st">&#39;ye&#39;</span>, <span class="st">&#39;yes&#39;</span>):</a>
<a class="sourceLine" id="cb47-5" data-line-number="5">...             <span class="cf">return</span> <span class="va">True</span></a>
<a class="sourceLine" id="cb47-6" data-line-number="6">...         <span class="cf">if</span> ok <span class="kw">in</span> (<span class="st">&#39;n&#39;</span>, <span class="st">&#39;no&#39;</span>, <span class="st">&#39;nop&#39;</span>, <span class="st">&#39;nope&#39;</span>):</a>
<a class="sourceLine" id="cb47-7" data-line-number="7">...             <span class="cf">return</span> <span class="va">False</span></a>
<a class="sourceLine" id="cb47-8" data-line-number="8">...         retries <span class="op">=</span> retries <span class="op">-</span> <span class="dv">1</span></a>
<a class="sourceLine" id="cb47-9" data-line-number="9">...         <span class="cf">if</span> retries <span class="op">&lt;</span> <span class="dv">0</span>:</a>
<a class="sourceLine" id="cb47-10" data-line-number="10">...             <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">&#39;invalid user response&#39;</span>)</a>
<a class="sourceLine" id="cb47-11" data-line-number="11">...         <span class="bu">print</span>(reminder)</a>
<a class="sourceLine" id="cb47-12" data-line-number="12">...     <span class="co"># 这个函数有几种调用方式</span></a>
<a class="sourceLine" id="cb47-13" data-line-number="13">...</a>
<a class="sourceLine" id="cb47-14" data-line-number="14"><span class="op">&gt;&gt;&gt;</span> ask_ok(prompt<span class="op">=</span><span class="st">&quot;hhh&quot;</span>,reminder<span class="op">=</span><span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb47-15" data-line-number="15">hhhy</a>
<a class="sourceLine" id="cb47-16" data-line-number="16"><span class="va">True</span></a>
<a class="sourceLine" id="cb47-17" data-line-number="17"><span class="op">&gt;&gt;&gt;</span> ask_ok(<span class="st">&#39;Do you really want to quit?&#39;</span>)</a>
<a class="sourceLine" id="cb47-18" data-line-number="18">Do you really want to quit?no</a>
<a class="sourceLine" id="cb47-19" data-line-number="19"><span class="va">False</span></a>
<a class="sourceLine" id="cb47-20" data-line-number="20"><span class="op">&gt;&gt;&gt;</span> ask_ok(<span class="st">&#39;OK to overwrite the file?&#39;</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb47-21" data-line-number="21">OK to overwrite the <span class="bu">file</span>?yes</a>
<a class="sourceLine" id="cb47-22" data-line-number="22"><span class="va">True</span></a>
<a class="sourceLine" id="cb47-23" data-line-number="23"><span class="op">&gt;&gt;&gt;</span> ask_ok(<span class="st">&#39;OK to overwrite the file?&#39;</span>, <span class="dv">2</span>, <span class="st">&#39;Come on, only yes or no!&#39;</span>)</a>
<a class="sourceLine" id="cb47-24" data-line-number="24">OK to overwrite the <span class="bu">file</span>?no</a>
<a class="sourceLine" id="cb47-25" data-line-number="25"><span class="va">False</span></a></code></pre></div>
<p>默认值在函数定义时确定：</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb48-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> i <span class="op">=</span> <span class="dv">5</span></a>
<a class="sourceLine" id="cb48-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> f(arg<span class="op">=</span>i):</a>
<a class="sourceLine" id="cb48-3" data-line-number="3">...     <span class="bu">print</span>(arg)</a>
<a class="sourceLine" id="cb48-4" data-line-number="4">...</a>
<a class="sourceLine" id="cb48-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> i <span class="op">=</span> <span class="dv">6</span></a>
<a class="sourceLine" id="cb48-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> f()</a>
<a class="sourceLine" id="cb48-7" data-line-number="7"><span class="dv">5</span></a></code></pre></div>
<p><strong>注意：</strong>默认值只计算一次，但当默认值是如列表、字典或者大部分类的实例等可变对象时就不同了，就像下面这样：</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb49-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> f(a, L<span class="op">=</span>[]):</a>
<a class="sourceLine" id="cb49-2" data-line-number="2">...     L.append(a)</a>
<a class="sourceLine" id="cb49-3" data-line-number="3">...     <span class="cf">return</span> L</a>
<a class="sourceLine" id="cb49-4" data-line-number="4">...</a>
<a class="sourceLine" id="cb49-5" data-line-number="5"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(f(<span class="dv">1</span>))</a>
<a class="sourceLine" id="cb49-6" data-line-number="6">[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb49-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(f(<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb49-8" data-line-number="8">[<span class="dv">1</span>, <span class="dv">2</span>]</a>
<a class="sourceLine" id="cb49-9" data-line-number="9"><span class="op">&gt;&gt;&gt;</span> <span class="bu">print</span>(f(<span class="dv">3</span>))</a>
<a class="sourceLine" id="cb49-10" data-line-number="10">[<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</a></code></pre></div>
<p>函数中形如 <code>**name</code> 的参数和 <code>*name</code> 参数的用法（<code>*name</code> 必须在 <code>**name</code> 前面）：</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb50-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">def</span> cheeseshop(kind, <span class="op">*</span>arguments, <span class="op">**</span>keywords):</a>
<a class="sourceLine" id="cb50-2" data-line-number="2">...     <span class="bu">print</span>(<span class="st">&quot;-- Do you have any&quot;</span>, kind, <span class="st">&quot;?&quot;</span>)</a>
<a class="sourceLine" id="cb50-3" data-line-number="3">...     <span class="bu">print</span>(<span class="st">&quot;-- I&#39;m sorry, we&#39;re all out of&quot;</span>, kind)</a>
<a class="sourceLine" id="cb50-4" data-line-number="4">...     <span class="cf">for</span> arg <span class="kw">in</span> arguments:</a>
<a class="sourceLine" id="cb50-5" data-line-number="5">...         <span class="bu">print</span>(arg)</a>
<a class="sourceLine" id="cb50-6" data-line-number="6">...     <span class="bu">print</span>(<span class="st">&quot;-&quot;</span> <span class="op">*</span> <span class="dv">40</span>)</a>
<a class="sourceLine" id="cb50-7" data-line-number="7">...     <span class="cf">for</span> kw <span class="kw">in</span> keywords:</a>
<a class="sourceLine" id="cb50-8" data-line-number="8">...         <span class="bu">print</span>(kw, <span class="st">&quot;:&quot;</span>, keywords[kw])</a>
<a class="sourceLine" id="cb50-9" data-line-number="9">...</a>
<a class="sourceLine" id="cb50-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> cheeseshop(<span class="st">&quot;Limburger&quot;</span>, <span class="st">&quot;It&#39;s very runny, sir.&quot;</span>,</a>
<a class="sourceLine" id="cb50-11" data-line-number="11">...            <span class="st">&quot;It&#39;s really very, VERY runny, sir.&quot;</span>,</a>
<a class="sourceLine" id="cb50-12" data-line-number="12">...            shopkeeper<span class="op">=</span><span class="st">&quot;Michael Palin&quot;</span>,</a>
<a class="sourceLine" id="cb50-13" data-line-number="13">...            client<span class="op">=</span><span class="st">&quot;John Cleese&quot;</span>,</a>
<a class="sourceLine" id="cb50-14" data-line-number="14">...            sketch<span class="op">=</span><span class="st">&quot;Cheese Shop Sketch&quot;</span>)</a>
<a class="sourceLine" id="cb50-15" data-line-number="15"><span class="op">--</span> Do you have <span class="bu">any</span> Limburger ?</a>
<a class="sourceLine" id="cb50-16" data-line-number="16"><span class="op">--</span> I<span class="st">&#39;m sorry, we&#39;</span>re <span class="bu">all</span> out of Limburger</a>
<a class="sourceLine" id="cb50-17" data-line-number="17">It<span class="st">&#39;s very runny, sir.</span></a>
<a class="sourceLine" id="cb50-18" data-line-number="18"><span class="st">It&#39;</span>s really very, VERY runny, sir.</a>
<a class="sourceLine" id="cb50-19" data-line-number="19"><span class="op">----------------------------------------</span></a>
<a class="sourceLine" id="cb50-20" data-line-number="20">sketch : Cheese Shop Sketch</a>
<a class="sourceLine" id="cb50-21" data-line-number="21">client : John Cleese</a>
<a class="sourceLine" id="cb50-22" data-line-number="22">shopkeeper : Michael Palin</a></code></pre></div>
<h5 id="模块">模块</h5>
<p>模块是指包含 Python 定义和声明的文件，文件名就是模块名加 <code>.py</code> 后缀。在模块内，可以通过全局变量 <code>__name__</code> 获取模块名（字符串）。比如在当前目录创建一个 <code>fibo.py</code> 文件：</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb51-1" data-line-number="1"><span class="co"># Fibonacci numbers module</span></a>
<a class="sourceLine" id="cb51-2" data-line-number="2"></a>
<a class="sourceLine" id="cb51-3" data-line-number="3"><span class="kw">def</span> fib(n):    <span class="co"># write Fibonacci series up to n</span></a>
<a class="sourceLine" id="cb51-4" data-line-number="4">    a, b <span class="op">=</span> <span class="dv">0</span>, <span class="dv">1</span></a>
<a class="sourceLine" id="cb51-5" data-line-number="5">    <span class="cf">while</span> b <span class="op">&lt;</span> n:</a>
<a class="sourceLine" id="cb51-6" data-line-number="6">        <span class="bu">print</span>(b, end<span class="op">=</span><span class="st">&#39; &#39;</span>)</a>
<a class="sourceLine" id="cb51-7" data-line-number="7">        a, b <span class="op">=</span> b, a<span class="op">+</span>b</a>
<a class="sourceLine" id="cb51-8" data-line-number="8">    <span class="bu">print</span>()</a>
<a class="sourceLine" id="cb51-9" data-line-number="9"></a>
<a class="sourceLine" id="cb51-10" data-line-number="10"><span class="kw">def</span> fib2(n):   <span class="co"># return Fibonacci series up to n</span></a>
<a class="sourceLine" id="cb51-11" data-line-number="11">    result <span class="op">=</span> []</a>
<a class="sourceLine" id="cb51-12" data-line-number="12">    a, b <span class="op">=</span> <span class="dv">0</span>, <span class="dv">1</span></a>
<a class="sourceLine" id="cb51-13" data-line-number="13">    <span class="cf">while</span> b <span class="op">&lt;</span> n:</a>
<a class="sourceLine" id="cb51-14" data-line-number="14">        result.append(b)</a>
<a class="sourceLine" id="cb51-15" data-line-number="15">        a, b <span class="op">=</span> b, a<span class="op">+</span>b</a>
<a class="sourceLine" id="cb51-16" data-line-number="16">    <span class="cf">return</span> result</a></code></pre></div>
<p>然后进入 Python 解释器：</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb52-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> fibo</a>
<a class="sourceLine" id="cb52-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span> fibo.fib(<span class="dv">1000</span>)</a>
<a class="sourceLine" id="cb52-3" data-line-number="3"><span class="dv">1</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">3</span> <span class="dv">5</span> <span class="dv">8</span> <span class="dv">13</span> <span class="dv">21</span> <span class="dv">34</span> <span class="dv">55</span> <span class="dv">89</span> <span class="dv">144</span> <span class="dv">233</span> <span class="dv">377</span> <span class="dv">610</span> <span class="dv">987</span></a>
<a class="sourceLine" id="cb52-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> fibo.fib2(<span class="dv">100</span>)</a>
<a class="sourceLine" id="cb52-5" data-line-number="5">[<span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">8</span>, <span class="dv">13</span>, <span class="dv">21</span>, <span class="dv">34</span>, <span class="dv">55</span>, <span class="dv">89</span>]</a>
<a class="sourceLine" id="cb52-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> fibo.<span class="va">__name__</span></a>
<a class="sourceLine" id="cb52-7" data-line-number="7"><span class="co">&#39;fibo&#39;</span></a></code></pre></div>
<p>也可以把模块作为脚本执行：</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb53-1" data-line-number="1">$ <span class="ex">python</span> fibo.py <span class="op">&lt;</span>arguments<span class="op">&gt;</span></a></code></pre></div>
<p>在模块末尾添加</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb54-1" data-line-number="1"><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</a>
<a class="sourceLine" id="cb54-2" data-line-number="2">    <span class="im">import</span> sys</a>
<a class="sourceLine" id="cb54-3" data-line-number="3">    fib(<span class="bu">int</span>(sys.argv[<span class="dv">1</span>]))</a></code></pre></div>
<p>可以使这个文件同时作为脚本和可倒入的模块，因为上面 <code>if</code> 语句块内的代码只在模块作为 “main” 文件的时候才执行：</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb55-1" data-line-number="1">$ <span class="ex">python</span> fibo.py 50</a>
<a class="sourceLine" id="cb55-2" data-line-number="2"><span class="ex">1</span> 1 2 3 5 8 13 21 34</a></code></pre></div>
<p>所以，如果这个模块被导入了， <code>if</code> 语句块内的代码不会执行：</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb56-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="im">import</span> fibo</a>
<a class="sourceLine" id="cb56-2" data-line-number="2"><span class="op">&gt;&gt;&gt;</span></a></code></pre></div>
<h5 id="包">包</h5>
<p>包是使用点分隔的模块名的结构化模块命名空间，结构大致如下：</p>
<pre class="pyt"><code>sound/                          Top-level package
      __init__.py               Initialize the sound package
      formats/                  Subpackage for file format conversions
              __init__.py
              wavread.py
              wavwrite.py
              aiffread.py
              aiffwrite.py
              auread.py
              auwrite.py
              ...
      effects/                  Subpackage for sound effects
              __init__.py
              echo.py
              surround.py
              reverse.py
              ...
      filters/                  Subpackage for filters
              __init__.py
              equalizer.py
              vocoder.py
              karaoke.py
              ...</code></pre>
<p>当导入包的时候，Python 在位于 <code>sys.path</code> 上的路径上查找包的子路径。<code>__init__.py</code> 是用来指明路径包含了包。<code>__init__.py</code> 可以是空文件，也可以执行包的初始代码或者设置 <code>__all__</code> 变量，（此变量是一个包含模块名的 <code>list</code>，当 <code>from package import *</code> 被触发时，<code>__all__</code> 中的模块将会被导入）。导入和使用方式如下：</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb58-1" data-line-number="1"><span class="im">import</span> sound.effects.echo</a>
<a class="sourceLine" id="cb58-2" data-line-number="2"><span class="co"># 在这种导入方式下只能这么调用</span></a>
<a class="sourceLine" id="cb58-3" data-line-number="3">sound.effects.echo.echofilter(<span class="bu">input</span>, output, delay<span class="op">=</span><span class="fl">0.7</span>, atten<span class="op">=</span><span class="dv">4</span>)</a></code></pre></div>
<p>或者：</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb59-1" data-line-number="1"><span class="im">from</span> sound.effects <span class="im">import</span> echo</a>
<a class="sourceLine" id="cb59-2" data-line-number="2">echo.echofilter(<span class="bu">input</span>, output, delay<span class="op">=</span><span class="fl">0.7</span>, atten<span class="op">=</span><span class="dv">4</span>)</a></code></pre></div>
<p>也或者直接导入需要的函数或变量：</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb60-1" data-line-number="1"><span class="im">from</span> sound.effects.echo <span class="im">import</span> echofilter</a>
<a class="sourceLine" id="cb60-2" data-line-number="2">echofilter(<span class="bu">input</span>, output, delay<span class="op">=</span><span class="fl">0.7</span>, atten<span class="op">=</span><span class="dv">4</span>)</a></code></pre></div>
<h5 id="类">类</h5>
<p>介绍类之前，先看一下作用域和命名空间的例子：</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb61-1" data-line-number="1"><span class="kw">def</span> scope_test():</a>
<a class="sourceLine" id="cb61-2" data-line-number="2">    <span class="kw">def</span> do_local():</a>
<a class="sourceLine" id="cb61-3" data-line-number="3">        spam <span class="op">=</span> <span class="st">&quot;local spam&quot;</span></a>
<a class="sourceLine" id="cb61-4" data-line-number="4"></a>
<a class="sourceLine" id="cb61-5" data-line-number="5">    <span class="kw">def</span> do_nonlocal():</a>
<a class="sourceLine" id="cb61-6" data-line-number="6">        <span class="kw">nonlocal</span> spam</a>
<a class="sourceLine" id="cb61-7" data-line-number="7">        spam <span class="op">=</span> <span class="st">&quot;nonlocal spam&quot;</span></a>
<a class="sourceLine" id="cb61-8" data-line-number="8"></a>
<a class="sourceLine" id="cb61-9" data-line-number="9">    <span class="kw">def</span> do_global():</a>
<a class="sourceLine" id="cb61-10" data-line-number="10">        <span class="kw">global</span> spam</a>
<a class="sourceLine" id="cb61-11" data-line-number="11">        spam <span class="op">=</span> <span class="st">&quot;global spam&quot;</span></a>
<a class="sourceLine" id="cb61-12" data-line-number="12"></a>
<a class="sourceLine" id="cb61-13" data-line-number="13">    spam <span class="op">=</span> <span class="st">&quot;test spam&quot;</span></a>
<a class="sourceLine" id="cb61-14" data-line-number="14">    do_local()</a>
<a class="sourceLine" id="cb61-15" data-line-number="15">    <span class="bu">print</span>(<span class="st">&quot;After local assignment:&quot;</span>, spam)</a>
<a class="sourceLine" id="cb61-16" data-line-number="16">    do_nonlocal()</a>
<a class="sourceLine" id="cb61-17" data-line-number="17">    <span class="bu">print</span>(<span class="st">&quot;After nonlocal assignment:&quot;</span>, spam)</a>
<a class="sourceLine" id="cb61-18" data-line-number="18">    do_global()</a>
<a class="sourceLine" id="cb61-19" data-line-number="19">    <span class="bu">print</span>(<span class="st">&quot;After global assignment:&quot;</span>, spam)</a>
<a class="sourceLine" id="cb61-20" data-line-number="20"></a>
<a class="sourceLine" id="cb61-21" data-line-number="21">scope_test()</a>
<a class="sourceLine" id="cb61-22" data-line-number="22"><span class="bu">print</span>(<span class="st">&quot;In global scope:&quot;</span>, spam)</a></code></pre></div>
<p>上面的输出如下，说明 <code>spam = &quot;local spam&quot;</code> 只作用于 <code>do_local()</code> 函数体内，<code>spam = &quot;test spam&quot;</code> 和 <code>spam = &quot;nonlocal spam&quot;</code> 作用于 <code>scope_test()</code> 函数体内，<code>spam = &quot;global spam&quot;</code> 作用于模块层级（module-level）。</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb62-1" data-line-number="1">After local assignment: test spam</a>
<a class="sourceLine" id="cb62-2" data-line-number="2">After <span class="kw">nonlocal</span> assignment: <span class="kw">nonlocal</span> spam</a>
<a class="sourceLine" id="cb62-3" data-line-number="3">After <span class="kw">global</span> assignment: <span class="kw">nonlocal</span> spam</a>
<a class="sourceLine" id="cb62-4" data-line-number="4">In <span class="kw">global</span> scope: <span class="kw">global</span> spam</a></code></pre></div>
<p>接下来，看定义类的语法：</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb63-1" data-line-number="1"><span class="kw">class</span> ClassName:</a>
<a class="sourceLine" id="cb63-2" data-line-number="2">    <span class="op">&lt;</span>statement<span class="dv">-1</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb63-3" data-line-number="3">    .</a>
<a class="sourceLine" id="cb63-4" data-line-number="4">    .</a>
<a class="sourceLine" id="cb63-5" data-line-number="5">    .</a>
<a class="sourceLine" id="cb63-6" data-line-number="6">    <span class="op">&lt;</span>statement<span class="op">-</span>N<span class="op">&gt;</span></a></code></pre></div>
<p>示例1:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb64-1" data-line-number="1"><span class="kw">class</span> MyClass:</a>
<a class="sourceLine" id="cb64-2" data-line-number="2">    <span class="co">&quot;&quot;&quot;A simple example class&quot;&quot;&quot;</span></a>
<a class="sourceLine" id="cb64-3" data-line-number="3">    <span class="co"># 这是个类变量，被所有实例共享</span></a>
<a class="sourceLine" id="cb64-4" data-line-number="4">    i <span class="op">=</span> <span class="dv">12345</span></a>
<a class="sourceLine" id="cb64-5" data-line-number="5"></a>
<a class="sourceLine" id="cb64-6" data-line-number="6">    <span class="kw">def</span> f(<span class="va">self</span>):</a>
<a class="sourceLine" id="cb64-7" data-line-number="7">        <span class="cf">return</span> <span class="st">&#39;hello world&#39;</span></a></code></pre></div>
<p>使用 MyClass ：</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb65-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> MyClass.i</a>
<a class="sourceLine" id="cb65-2" data-line-number="2"><span class="dv">12345</span></a>
<a class="sourceLine" id="cb65-3" data-line-number="3"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> MyClass()</a>
<a class="sourceLine" id="cb65-4" data-line-number="4"><span class="op">&gt;&gt;&gt;</span> x.i</a>
<a class="sourceLine" id="cb65-5" data-line-number="5"><span class="dv">12345</span></a>
<a class="sourceLine" id="cb65-6" data-line-number="6"><span class="op">&gt;&gt;&gt;</span> x.f()</a>
<a class="sourceLine" id="cb65-7" data-line-number="7"><span class="co">&#39;hello world&#39;</span></a></code></pre></div>
<p>示例2：</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb66-1" data-line-number="1"><span class="op">&gt;&gt;&gt;</span> <span class="kw">class</span> Complex:</a>
<a class="sourceLine" id="cb66-2" data-line-number="2">...     <span class="co"># 创建实例的时候会自动调用 __init__ 函数</span></a>
<a class="sourceLine" id="cb66-3" data-line-number="3">...     <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, realpart, imagpart):</a>
<a class="sourceLine" id="cb66-4" data-line-number="4">...         <span class="va">self</span>.r <span class="op">=</span> realpart</a>
<a class="sourceLine" id="cb66-5" data-line-number="5">...         <span class="va">self</span>.i <span class="op">=</span> imagpart</a>
<a class="sourceLine" id="cb66-6" data-line-number="6">...</a>
<a class="sourceLine" id="cb66-7" data-line-number="7"><span class="op">&gt;&gt;&gt;</span> x <span class="op">=</span> Complex(<span class="fl">3.0</span>, <span class="fl">-4.5</span>)</a>
<a class="sourceLine" id="cb66-8" data-line-number="8"><span class="op">&gt;&gt;&gt;</span> x.r, x.i</a>
<a class="sourceLine" id="cb66-9" data-line-number="9">(<span class="fl">3.0</span>, <span class="fl">-4.5</span>)</a></code></pre></div>
<p>示例3:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb67-1" data-line-number="1"><span class="kw">class</span> Dog:</a>
<a class="sourceLine" id="cb67-2" data-line-number="2"></a>
<a class="sourceLine" id="cb67-3" data-line-number="3">    tricks <span class="op">=</span> []             <span class="co"># mistaken use of a class variable</span></a>
<a class="sourceLine" id="cb67-4" data-line-number="4"></a>
<a class="sourceLine" id="cb67-5" data-line-number="5">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</a>
<a class="sourceLine" id="cb67-6" data-line-number="6">        <span class="va">self</span>.name <span class="op">=</span> name</a>
<a class="sourceLine" id="cb67-7" data-line-number="7"></a>
<a class="sourceLine" id="cb67-8" data-line-number="8">    <span class="kw">def</span> add_trick(<span class="va">self</span>, trick):</a>
<a class="sourceLine" id="cb67-9" data-line-number="9">        <span class="va">self</span>.tricks.append(trick)</a>
<a class="sourceLine" id="cb67-10" data-line-number="10"></a>
<a class="sourceLine" id="cb67-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> d <span class="op">=</span> Dog(<span class="st">&#39;Fido&#39;</span>)</a>
<a class="sourceLine" id="cb67-12" data-line-number="12"><span class="op">&gt;&gt;&gt;</span> e <span class="op">=</span> Dog(<span class="st">&#39;Buddy&#39;</span>)</a>
<a class="sourceLine" id="cb67-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span> d.add_trick(<span class="st">&#39;roll over&#39;</span>)</a>
<a class="sourceLine" id="cb67-14" data-line-number="14"><span class="op">&gt;&gt;&gt;</span> e.add_trick(<span class="st">&#39;play dead&#39;</span>)</a>
<a class="sourceLine" id="cb67-15" data-line-number="15"><span class="op">&gt;&gt;&gt;</span> d.tricks                <span class="co"># unexpectedly shared by all dogs</span></a>
<a class="sourceLine" id="cb67-16" data-line-number="16">[<span class="st">&#39;roll over&#39;</span>, <span class="st">&#39;play dead&#39;</span>]</a></code></pre></div>
<p>示例4:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb68-1" data-line-number="1"><span class="kw">class</span> Dog:</a>
<a class="sourceLine" id="cb68-2" data-line-number="2"></a>
<a class="sourceLine" id="cb68-3" data-line-number="3">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, name):</a>
<a class="sourceLine" id="cb68-4" data-line-number="4">        <span class="va">self</span>.name <span class="op">=</span> name</a>
<a class="sourceLine" id="cb68-5" data-line-number="5">        <span class="va">self</span>.tricks <span class="op">=</span> []    <span class="co"># creates a new empty list for each dog</span></a>
<a class="sourceLine" id="cb68-6" data-line-number="6"></a>
<a class="sourceLine" id="cb68-7" data-line-number="7">    <span class="kw">def</span> add_trick(<span class="va">self</span>, trick):</a>
<a class="sourceLine" id="cb68-8" data-line-number="8">        <span class="va">self</span>.tricks.append(trick)</a>
<a class="sourceLine" id="cb68-9" data-line-number="9"></a>
<a class="sourceLine" id="cb68-10" data-line-number="10"><span class="op">&gt;&gt;&gt;</span> d <span class="op">=</span> Dog(<span class="st">&#39;Fido&#39;</span>)</a>
<a class="sourceLine" id="cb68-11" data-line-number="11"><span class="op">&gt;&gt;&gt;</span> e <span class="op">=</span> Dog(<span class="st">&#39;Buddy&#39;</span>)</a>
<a class="sourceLine" id="cb68-12" data-line-number="12"><span class="op">&gt;&gt;&gt;</span> d.add_trick(<span class="st">&#39;roll over&#39;</span>)</a>
<a class="sourceLine" id="cb68-13" data-line-number="13"><span class="op">&gt;&gt;&gt;</span> e.add_trick(<span class="st">&#39;play dead&#39;</span>)</a>
<a class="sourceLine" id="cb68-14" data-line-number="14"><span class="op">&gt;&gt;&gt;</span> d.tricks</a>
<a class="sourceLine" id="cb68-15" data-line-number="15">[<span class="st">&#39;roll over&#39;</span>]</a>
<a class="sourceLine" id="cb68-16" data-line-number="16"><span class="op">&gt;&gt;&gt;</span> e.tricks</a>
<a class="sourceLine" id="cb68-17" data-line-number="17">[<span class="st">&#39;play dead&#39;</span>]</a></code></pre></div>
<h5 id="继承">继承</h5>
<p>Python 支持类的继承，语法如下：</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb69-1" data-line-number="1"><span class="kw">class</span> DerivedClassName(BaseClassName):</a>
<a class="sourceLine" id="cb69-2" data-line-number="2">    <span class="op">&lt;</span>statement<span class="dv">-1</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb69-3" data-line-number="3">    .</a>
<a class="sourceLine" id="cb69-4" data-line-number="4">    .</a>
<a class="sourceLine" id="cb69-5" data-line-number="5">    .</a>
<a class="sourceLine" id="cb69-6" data-line-number="6">    <span class="op">&lt;</span>statement<span class="op">-</span>N<span class="op">&gt;</span></a></code></pre></div>
<p>示例：</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb70-1" data-line-number="1"><span class="kw">class</span> Mapping:</a>
<a class="sourceLine" id="cb70-2" data-line-number="2">    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>, iterable):</a>
<a class="sourceLine" id="cb70-3" data-line-number="3">        <span class="va">self</span>.items_list <span class="op">=</span> []</a>
<a class="sourceLine" id="cb70-4" data-line-number="4">        <span class="va">self</span>.__update(iterable)</a>
<a class="sourceLine" id="cb70-5" data-line-number="5"></a>
<a class="sourceLine" id="cb70-6" data-line-number="6">    <span class="kw">def</span> update(<span class="va">self</span>, iterable):</a>
<a class="sourceLine" id="cb70-7" data-line-number="7">        <span class="cf">for</span> item <span class="kw">in</span> iterable:</a>
<a class="sourceLine" id="cb70-8" data-line-number="8">            <span class="va">self</span>.items_list.append(item)</a>
<a class="sourceLine" id="cb70-9" data-line-number="9"></a>
<a class="sourceLine" id="cb70-10" data-line-number="10">    __update <span class="op">=</span> update   <span class="co"># private copy of original update() method</span></a>
<a class="sourceLine" id="cb70-11" data-line-number="11"></a>
<a class="sourceLine" id="cb70-12" data-line-number="12"><span class="kw">class</span> MappingSubclass(Mapping):</a>
<a class="sourceLine" id="cb70-13" data-line-number="13"></a>
<a class="sourceLine" id="cb70-14" data-line-number="14">    <span class="kw">def</span> update(<span class="va">self</span>, keys, values):</a>
<a class="sourceLine" id="cb70-15" data-line-number="15">        <span class="co"># provides new signature for update()</span></a>
<a class="sourceLine" id="cb70-16" data-line-number="16">        <span class="co"># but does not break __init__()</span></a>
<a class="sourceLine" id="cb70-17" data-line-number="17">        <span class="cf">for</span> item <span class="kw">in</span> <span class="bu">zip</span>(keys, values):</a>
<a class="sourceLine" id="cb70-18" data-line-number="18">            <span class="va">self</span>.items_list.append(item)</a></code></pre></div>
<p>Python 也支持多重继承：</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode python"><code class="sourceCode python"><a class="sourceLine" id="cb71-1" data-line-number="1"><span class="kw">class</span> DerivedClassName(Base1, Base2, Base3):</a>
<a class="sourceLine" id="cb71-2" data-line-number="2">    <span class="op">&lt;</span>statement<span class="dv">-1</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb71-3" data-line-number="3">    .</a>
<a class="sourceLine" id="cb71-4" data-line-number="4">    .</a>
<a class="sourceLine" id="cb71-5" data-line-number="5">    .</a>
<a class="sourceLine" id="cb71-6" data-line-number="6">    <span class="op">&lt;</span>statement<span class="op">-</span>N<span class="op">&gt;</span></a></code></pre></div>
<h4 id="标准库">标准库</h4>
<p>Python 拥有一个强大的<a href="https://docs.python.org/3/library/index.html">标准库</a>。Python 语言的核心只包含数字、字符串、列表、字典、文件等常见类型和函数，而由Python标准库提供了系统管理、网络通信、文本处理、数据库接口、图形系统、XML处理等额外的功能。</p>
<p>Python标准库的主要功能有：</p>
<ul>
<li>文本处理，包含文本格式化、正则表达式匹配、文本差异计算与合并、Unicode 支持，二进制数据处理等功能</li>
<li>文件处理，包含文件操作、创建临时文件、文件压缩与归档、操作配置文件等功能</li>
<li>操作系统功能，包含线程与进程支持、IO 复用、日期与时间处理、调用系统函数、日志（logging）等功能</li>
<li>网络通信，包含网络套接字，SSL 加密通信、异步网络通信等功能</li>
<li>网络协议，支持 HTTP，FTP，SMTP，POP，IMAP，NNTP，XMLRPC 等多种网络协议，并提供了编写网络服务器的框架</li>
<li>W3C 格式支持，包含 HTML，SGML，XML 的处理。</li>
<li>其它功能，包括国际化支持、数学运算、HASH、Tkinter 等</li>
</ul>
<p>Python 社区提供了大量的第三方模块，使用方式与标准库类似。它们的功能覆盖科学计算、Web 开发、数据库接口、图形系统多个领域。第三方模块可以使用 Python 或 C 编写。</p>
<h4 id="参考">参考</h4>
<p>1、<a href="https://docs.python.org/3.6/tutorial" class="uri">https://docs.python.org/3.6/tutorial</a></p>
<p>2、<a href="https://zh.wikipedia.org/wiki/Python" class="uri">https://zh.wikipedia.org/wiki/Python</a></p>
